[{"type":"js","data":"//////////////////////////////////////////////////////////////////////////\n//                                                                      //\n// This is a generated file. You can view the original                  //\n// source in your browser if your browser supports source maps.         //\n// Source maps are supported by all recent versions of Chrome, Safari,  //\n// and Firefox, and by Internet Explorer 11.                            //\n//                                                                      //\n//////////////////////////////////////////////////////////////////////////\n\n\n(function () {\n\n/* Imports */\nvar Meteor = Package.meteor.Meteor;\nvar Blaze = Package.blaze.Blaze;\nvar UI = Package.blaze.UI;\nvar Handlebars = Package.blaze.Handlebars;\nvar Template = Package.templating.Template;\nvar _ = Package.underscore._;\nvar Tracker = Package.tracker.Tracker;\nvar Deps = Package.tracker.Deps;\nvar ReactiveVar = Package['reactive-var'].ReactiveVar;\nvar EJSON = Package.ejson.EJSON;\nvar Spacebars = Package.spacebars.Spacebars;\nvar BaseComponent = Package['peerlibrary:base-component'].BaseComponent;\nvar BaseComponentDebug = Package['peerlibrary:base-component'].BaseComponentDebug;\nvar assert = Package['peerlibrary:assert'].assert;\nvar HTML = Package.htmljs.HTML;\n\n/* Package-scope variables */\nvar __coffeescriptShare, BlazeComponent, BlazeComponentDebug;\n\n(function(){\n\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                    //\n// packages/peerlibrary_blaze-components/packages/peerlibrary_blaze-components.js                                     //\n//                                                                                                                    //\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                      //\n(function () {                                                                                                        // 1\n                                                                                                                      // 2\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                 //\n// packages/peerlibrary:blaze-components/lookup.js                                                                 //\n//                                                                                                                 //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                   //\n/* This file is a direct copy of Blaze lookup.js with modifications described                                      // 1\n   in this pull request: https://github.com/meteor/meteor/pull/4036                                                // 2\n                                                                                                                   // 3\n   TODO: Remove this file once the pull request is merged in.                                                      // 4\n */                                                                                                                // 5\n                                                                                                                   // 6\n// If `x` is a function, binds the value of `this` for that function                                               // 7\n// to the current data context.                                                                                    // 8\nvar bindDataContext = function (x) {                                                                               // 9\n  if (typeof x === 'function') {                                                                                   // 10\n    return function () {                                                                                           // 11\n      var data = Blaze.getData();                                                                                  // 12\n      if (data == null)                                                                                            // 13\n        data = {};                                                                                                 // 14\n      return x.apply(data, arguments);                                                                             // 15\n    };                                                                                                             // 16\n  }                                                                                                                // 17\n  return x;                                                                                                        // 18\n};                                                                                                                 // 19\n                                                                                                                   // 20\nBlaze._getTemplateHelper = function (template, name, templateInstance) {                                           // 21\n  // XXX COMPAT WITH 0.9.3                                                                                         // 22\n  var isKnownOldStyleHelper = false;                                                                               // 23\n                                                                                                                   // 24\n  if (template.__helpers.has(name)) {                                                                              // 25\n    var helper = template.__helpers.get(name);                                                                     // 26\n    if (helper === Blaze._OLDSTYLE_HELPER) {                                                                       // 27\n      isKnownOldStyleHelper = true;                                                                                // 28\n    } else if (helper != null) {                                                                                   // 29\n      return wrapHelper(bindDataContext(helper), templateInstance);                                                // 30\n    } else {                                                                                                       // 31\n      return null;                                                                                                 // 32\n    }                                                                                                              // 33\n  }                                                                                                                // 34\n                                                                                                                   // 35\n  // old-style helper                                                                                              // 36\n  if (name in template) {                                                                                          // 37\n    // Only warn once per helper                                                                                   // 38\n    if (! isKnownOldStyleHelper) {                                                                                 // 39\n      template.__helpers.set(name, Blaze._OLDSTYLE_HELPER);                                                        // 40\n      if (! template._NOWARN_OLDSTYLE_HELPERS) {                                                                   // 41\n        Blaze._warn('Assigning helper with `' + template.viewName + '.' +                                          // 42\n                    name + ' = ...` is deprecated.  Use `' + template.viewName +                                   // 43\n                    '.helpers(...)` instead.');                                                                    // 44\n      }                                                                                                            // 45\n    }                                                                                                              // 46\n    if (template[name] != null) {                                                                                  // 47\n      return wrapHelper(bindDataContext(template[name]), templateInstance);                                        // 48\n    }                                                                                                              // 49\n  }                                                                                                                // 50\n                                                                                                                   // 51\n  return null;                                                                                                     // 52\n};                                                                                                                 // 53\n                                                                                                                   // 54\nvar wrapHelper = function (f, templateFunc) {                                                                      // 55\n  // XXX COMPAT WITH METEOR 1.0.3.2                                                                                // 56\n  if (! Blaze.Template._withTemplateInstanceFunc) {                                                                // 57\n    return Blaze._wrapCatchingExceptions(f, 'template helper');                                                    // 58\n  }                                                                                                                // 59\n                                                                                                                   // 60\n  if (typeof f !== \"function\") {                                                                                   // 61\n    return f;                                                                                                      // 62\n  }                                                                                                                // 63\n                                                                                                                   // 64\n  return function () {                                                                                             // 65\n    var self = this;                                                                                               // 66\n    var args = arguments;                                                                                          // 67\n                                                                                                                   // 68\n    return Blaze.Template._withTemplateInstanceFunc(templateFunc, function () {                                    // 69\n      return Blaze._wrapCatchingExceptions(f, 'template helper').apply(self, args);                                // 70\n    });                                                                                                            // 71\n  };                                                                                                               // 72\n};                                                                                                                 // 73\n                                                                                                                   // 74\n// templateInstance argument is provided to be available for possible                                              // 75\n// alternative implementations of this function by 3rd party packages.                                             // 76\nBlaze._getTemplate = function (name, templateInstance) {                                                           // 77\n  if ((name in Blaze.Template) && (Blaze.Template[name] instanceof Blaze.Template)) {                              // 78\n    return Blaze.Template[name];                                                                                   // 79\n  }                                                                                                                // 80\n  return null;                                                                                                     // 81\n};                                                                                                                 // 82\n                                                                                                                   // 83\nBlaze.View.prototype.lookup = function (name, _options) {                                                          // 84\n  var template = this.template;                                                                                    // 85\n  var lookupTemplate = _options && _options.template;                                                              // 86\n  var helper;                                                                                                      // 87\n  var boundTmplInstance;                                                                                           // 88\n  var foundTemplate;                                                                                               // 89\n                                                                                                                   // 90\n  if (this.templateInstance) {                                                                                     // 91\n    boundTmplInstance = _.bind(this.templateInstance, this);                                                       // 92\n  }                                                                                                                // 93\n                                                                                                                   // 94\n  if (/^\\./.test(name)) {                                                                                          // 95\n    // starts with a dot. must be a series of dots which maps to an                                                // 96\n    // ancestor of the appropriate height.                                                                         // 97\n    if (!/^(\\.)+$/.test(name))                                                                                     // 98\n      throw new Error(\"id starting with dot must be a series of dots\");                                            // 99\n                                                                                                                   // 100\n    return Blaze._parentData(name.length - 1, true /*_functionWrapped*/);                                          // 101\n                                                                                                                   // 102\n  } else if (template &&                                                                                           // 103\n             ((helper = Blaze._getTemplateHelper(template, name, boundTmplInstance)) != null)) {                   // 104\n    return helper;                                                                                                 // 105\n  } else if (lookupTemplate &&                                                                                     // 106\n             ((foundTemplate = Blaze._getTemplate(name, boundTmplInstance)) != null)) {                            // 107\n    return foundTemplate;                                                                                          // 108\n  } else if (Blaze._globalHelpers[name] != null) {                                                                 // 109\n    return wrapHelper(bindDataContext(Blaze._globalHelpers[name]),                                                 // 110\n      boundTmplInstance);                                                                                          // 111\n  } else {                                                                                                         // 112\n    return function () {                                                                                           // 113\n      var isCalledAsFunction = (arguments.length > 0);                                                             // 114\n      var data = Blaze.getData();                                                                                  // 115\n      if (lookupTemplate && ! (data && data[name])) {                                                              // 116\n        throw new Error(\"No such template: \" + name);                                                              // 117\n      }                                                                                                            // 118\n      if (isCalledAsFunction && ! (data && data[name])) {                                                          // 119\n        throw new Error(\"No such function: \" + name);                                                              // 120\n      }                                                                                                            // 121\n      if (! data)                                                                                                  // 122\n        return null;                                                                                               // 123\n      var x = data[name];                                                                                          // 124\n      if (typeof x !== 'function') {                                                                               // 125\n        if (isCalledAsFunction) {                                                                                  // 126\n          throw new Error(\"Can't call non-function: \" + x);                                                        // 127\n        }                                                                                                          // 128\n        return x;                                                                                                  // 129\n      }                                                                                                            // 130\n      return x.apply(data, arguments);                                                                             // 131\n    };                                                                                                             // 132\n  }                                                                                                                // 133\n  return null;                                                                                                     // 134\n};                                                                                                                 // 135\n                                                                                                                   // 136\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                      // 146\n}).call(this);                                                                                                        // 147\n                                                                                                                      // 148\n                                                                                                                      // 149\n                                                                                                                      // 150\n                                                                                                                      // 151\n                                                                                                                      // 152\n                                                                                                                      // 153\n(function () {                                                                                                        // 154\n                                                                                                                      // 155\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                 //\n// packages/peerlibrary:blaze-components/lib.coffee.js                                                             //\n//                                                                                                                 //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                   //\n__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;\nvar ComponentsNamespaceReference, addEvents, bindComponent, bindDataContext, getTemplateInstance, getTemplateInstanceFunction, method, methodName, originalDot, originalGetTemplate, originalInclude, registerFirstCreatedHook, registerHooks, templateInstanceToComponent, wrapHelper, _fn, _ref,                \n  __slice = [].slice,                                                                                                 // 164\n  __hasProp = {}.hasOwnProperty,                                                                                      // 165\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n                                                                                                                      // 167\ngetTemplateInstance = function(view) {                                                                                // 168\n  while (view && !view._templateInstance) {                                                                           // 169\n    view = view.parentView;                                                                                           // 170\n  }                                                                                                                   // 171\n  return view != null ? view._templateInstance : void 0;                                                              // 172\n};                                                                                                                    // 173\n                                                                                                                      // 174\ntemplateInstanceToComponent = function(templateInstanceFunc) {                                                        // 175\n  var templateInstance;                                                                                               // 176\n  templateInstance = typeof templateInstanceFunc === \"function\" ? templateInstanceFunc() : void 0;                    // 177\n  templateInstance = getTemplateInstance(templateInstance != null ? templateInstance.view : void 0);                  // 178\n  while (templateInstance) {                                                                                          // 179\n    if ('component' in templateInstance) {                                                                            // 180\n      return templateInstance.component;                                                                              // 181\n    }                                                                                                                 // 182\n    templateInstance = getTemplateInstance(templateInstance.view.parentView);                                         // 183\n  }                                                                                                                   // 184\n  return null;                                                                                                        // 185\n};                                                                                                                    // 186\n                                                                                                                      // 187\ngetTemplateInstanceFunction = function(view) {                                                                        // 188\n  var templateInstance;                                                                                               // 189\n  templateInstance = getTemplateInstance(view);                                                                       // 190\n  return function() {                                                                                                 // 191\n    return templateInstance;                                                                                          // 192\n  };                                                                                                                  // 193\n};                                                                                                                    // 194\n                                                                                                                      // 195\nComponentsNamespaceReference = (function() {                                                                          // 196\n  function ComponentsNamespaceReference(namespace, templateInstance) {                                                // 197\n    this.namespace = namespace;                                                                                       // 198\n    this.templateInstance = templateInstance;                                                                         // 199\n  }                                                                                                                   // 200\n                                                                                                                      // 201\n  return ComponentsNamespaceReference;                                                                                // 202\n                                                                                                                      // 203\n})();                                                                                                                 // 204\n                                                                                                                      // 205\noriginalDot = Spacebars.dot;                                                                                          // 206\n                                                                                                                      // 207\nSpacebars.dot = function() {                                                                                          // 208\n  var args, value;                                                                                                    // 209\n  value = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];                               // 210\n  if (value instanceof ComponentsNamespaceReference) {                                                                // 211\n    return Blaze._getTemplate(\"\" + value.namespace + \".\" + (args.join('.')), value.templateInstance);                 // 212\n  }                                                                                                                   // 213\n  return originalDot.apply(null, [value].concat(__slice.call(args)));                                                 // 214\n};                                                                                                                    // 215\n                                                                                                                      // 216\noriginalInclude = Spacebars.include;                                                                                  // 217\n                                                                                                                      // 218\nSpacebars.include = function() {                                                                                      // 219\n  var args, templateOrFunction;                                                                                       // 220\n  templateOrFunction = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];                  // 221\n  if (templateOrFunction instanceof ComponentsNamespaceReference) {                                                   // 222\n    templateOrFunction = Blaze._getTemplate(templateOrFunction.namespace, templateOrFunction.templateInstance);       // 223\n  }                                                                                                                   // 224\n  return originalInclude.apply(null, [templateOrFunction].concat(__slice.call(args)));                                // 225\n};                                                                                                                    // 226\n                                                                                                                      // 227\nBlaze._getTemplateHelper = function(template, name, templateInstance) {                                               // 228\n  var component, helper, isKnownOldStyleHelper, mixinOrComponent, _ref;                                               // 229\n  isKnownOldStyleHelper = false;                                                                                      // 230\n  if (template.__helpers.has(name)) {                                                                                 // 231\n    helper = template.__helpers.get(name);                                                                            // 232\n    if (helper === Blaze._OLDSTYLE_HELPER) {                                                                          // 233\n      isKnownOldStyleHelper = true;                                                                                   // 234\n    } else if (helper != null) {                                                                                      // 235\n      return wrapHelper(bindDataContext(helper), templateInstance);                                                   // 236\n    } else {                                                                                                          // 237\n      return null;                                                                                                    // 238\n    }                                                                                                                 // 239\n  }                                                                                                                   // 240\n  if (name in template) {                                                                                             // 241\n    if (!isKnownOldStyleHelper) {                                                                                     // 242\n      template.__helpers.set(name, Blaze._OLDSTYLE_HELPER);                                                           // 243\n      if (!template._NOWARN_OLDSTYLE_HELPERS) {                                                                       // 244\n        Blaze._warn(\"Assigning helper with `\" + template.viewName + \".\" + name + \" = ...` is deprecated.  Use `\" + template.viewName + \".helpers(...)` instead.\");\n      }                                                                                                               // 246\n    }                                                                                                                 // 247\n    if (template[name] != null) {                                                                                     // 248\n      return wrapHelper(bindDataContext(template[name]), templateInstance);                                           // 249\n    } else {                                                                                                          // 250\n      return null;                                                                                                    // 251\n    }                                                                                                                 // 252\n  }                                                                                                                   // 253\n  if (!templateInstance) {                                                                                            // 254\n    return null;                                                                                                      // 255\n  }                                                                                                                   // 256\n  if ((_ref = template.viewName) === 'Template.__dynamicWithDataContext' || _ref === 'Template.__dynamic') {          // 257\n    return null;                                                                                                      // 258\n  }                                                                                                                   // 259\n  component = Tracker.nonreactive(function() {                                                                        // 260\n    return templateInstanceToComponent(templateInstance);                                                             // 261\n  });                                                                                                                 // 262\n  if (component) {                                                                                                    // 263\n    if (mixinOrComponent = component.getFirstWith(null, name)) {                                                      // 264\n      return wrapHelper(bindComponent(mixinOrComponent, mixinOrComponent[name]), templateInstance);                   // 265\n    }                                                                                                                 // 266\n  }                                                                                                                   // 267\n  if (name && name in BlazeComponent.components) {                                                                    // 268\n    return new ComponentsNamespaceReference(name, templateInstance);                                                  // 269\n  }                                                                                                                   // 270\n  return null;                                                                                                        // 271\n};                                                                                                                    // 272\n                                                                                                                      // 273\nbindComponent = function(component, helper) {                                                                         // 274\n  if (_.isFunction(helper)) {                                                                                         // 275\n    return _.bind(helper, component);                                                                                 // 276\n  } else {                                                                                                            // 277\n    return helper;                                                                                                    // 278\n  }                                                                                                                   // 279\n};                                                                                                                    // 280\n                                                                                                                      // 281\nbindDataContext = function(helper) {                                                                                  // 282\n  if (_.isFunction(helper)) {                                                                                         // 283\n    return function() {                                                                                               // 284\n      var data;                                                                                                       // 285\n      data = Blaze.getData();                                                                                         // 286\n      if (data == null) {                                                                                             // 287\n        data = {};                                                                                                    // 288\n      }                                                                                                               // 289\n      return helper.apply(data, arguments);                                                                           // 290\n    };                                                                                                                // 291\n  } else {                                                                                                            // 292\n    return helper;                                                                                                    // 293\n  }                                                                                                                   // 294\n};                                                                                                                    // 295\n                                                                                                                      // 296\nwrapHelper = function(f, templateFunc) {                                                                              // 297\n  if (!Blaze.Template._withTemplateInstanceFunc) {                                                                    // 298\n    return Blaze._wrapCatchingExceptions(f, 'template helper');                                                       // 299\n  }                                                                                                                   // 300\n  if (!_.isFunction(f)) {                                                                                             // 301\n    return f;                                                                                                         // 302\n  }                                                                                                                   // 303\n  return function() {                                                                                                 // 304\n    var args, self;                                                                                                   // 305\n    self = this;                                                                                                      // 306\n    args = arguments;                                                                                                 // 307\n    return Blaze.Template._withTemplateInstanceFunc(templateFunc, function() {                                        // 308\n      return Blaze._wrapCatchingExceptions(f, 'template helper').apply(self, args);                                   // 309\n    });                                                                                                               // 310\n  };                                                                                                                  // 311\n};                                                                                                                    // 312\n                                                                                                                      // 313\naddEvents = function(view, component) {                                                                               // 314\n  var eventMap, events, eventsList, handler, spec, _fn, _i, _len;                                                     // 315\n  eventsList = component.events();                                                                                    // 316\n  if (!_.isArray(eventsList)) {                                                                                       // 317\n    throw new Error(\"'events' method from the component '\" + (component.componentName() || 'unnamed') + \"' did not return a list of event maps.\");\n  }                                                                                                                   // 319\n  for (_i = 0, _len = eventsList.length; _i < _len; _i++) {                                                           // 320\n    events = eventsList[_i];                                                                                          // 321\n    eventMap = {};                                                                                                    // 322\n    _fn = function(spec, handler) {                                                                                   // 323\n      return eventMap[spec] = function() {                                                                            // 324\n        var args, currentView, event, templateInstance, withTemplateInstanceFunc;                                     // 325\n        args = 1 <= arguments.length ? __slice.call(arguments, 0) : [];                                               // 326\n        event = args[0];                                                                                              // 327\n        currentView = Blaze.getView(event.currentTarget);                                                             // 328\n        templateInstance = getTemplateInstanceFunction(currentView);                                                  // 329\n        if (Template._withTemplateInstanceFunc) {                                                                     // 330\n          withTemplateInstanceFunc = Template._withTemplateInstanceFunc;                                              // 331\n        } else {                                                                                                      // 332\n          withTemplateInstanceFunc = function(templateInstance, f) {                                                  // 333\n            return f();                                                                                               // 334\n          };                                                                                                          // 335\n        }                                                                                                             // 336\n        withTemplateInstanceFunc(templateInstance, function() {                                                       // 337\n          return Blaze._withCurrentView(currentView, function() {                                                     // 338\n            return handler.apply(component, args);                                                                    // 339\n          });                                                                                                         // 340\n        });                                                                                                           // 341\n      };                                                                                                              // 342\n    };                                                                                                                // 343\n    for (spec in events) {                                                                                            // 344\n      handler = events[spec];                                                                                         // 345\n      _fn(spec, handler);                                                                                             // 346\n    }                                                                                                                 // 347\n    Blaze._addEventMap(view, eventMap);                                                                               // 348\n  }                                                                                                                   // 349\n};                                                                                                                    // 350\n                                                                                                                      // 351\noriginalGetTemplate = Blaze._getTemplate;                                                                             // 352\n                                                                                                                      // 353\nBlaze._getTemplate = function(name, templateInstance) {                                                               // 354\n  var template;                                                                                                       // 355\n  template = Tracker.nonreactive(function() {                                                                         // 356\n    var componentParent, _ref;                                                                                        // 357\n    componentParent = templateInstanceToComponent(templateInstance);                                                  // 358\n    return (_ref = BlazeComponent.getComponent(name)) != null ? _ref.renderComponent(componentParent) : void 0;       // 359\n  });                                                                                                                 // 360\n  if (template && (template instanceof Blaze.Template || _.isFunction(template))) {                                   // 361\n    return template;                                                                                                  // 362\n  }                                                                                                                   // 363\n  return originalGetTemplate(name);                                                                                   // 364\n};                                                                                                                    // 365\n                                                                                                                      // 366\nregisterHooks = function(template, hooks) {                                                                           // 367\n  if (template.onCreated) {                                                                                           // 368\n    template.onCreated(hooks.onCreated);                                                                              // 369\n    template.onRendered(hooks.onRendered);                                                                            // 370\n    return template.onDestroyed(hooks.onDestroyed);                                                                   // 371\n  } else {                                                                                                            // 372\n    template.created = hooks.onCreated;                                                                               // 373\n    template.rendered = hooks.onRendered;                                                                             // 374\n    return template.destroyed = hooks.onDestroyed;                                                                    // 375\n  }                                                                                                                   // 376\n};                                                                                                                    // 377\n                                                                                                                      // 378\nregisterFirstCreatedHook = function(template, onCreated) {                                                            // 379\n  var oldCreated;                                                                                                     // 380\n  if (template._callbacks) {                                                                                          // 381\n    return template._callbacks.created.unshift(onCreated);                                                            // 382\n  } else {                                                                                                            // 383\n    oldCreated = template.created;                                                                                    // 384\n    return template.created = function() {                                                                            // 385\n      onCreated.call(this);                                                                                           // 386\n      return oldCreated != null ? oldCreated.call(this) : void 0;                                                     // 387\n    };                                                                                                                // 388\n  }                                                                                                                   // 389\n};                                                                                                                    // 390\n                                                                                                                      // 391\nBlazeComponent = (function(_super) {                                                                                  // 392\n  __extends(BlazeComponent, _super);                                                                                  // 393\n                                                                                                                      // 394\n  function BlazeComponent() {                                                                                         // 395\n    return BlazeComponent.__super__.constructor.apply(this, arguments);                                               // 396\n  }                                                                                                                   // 397\n                                                                                                                      // 398\n  BlazeComponent.getComponentForElement = function(domElement) {                                                      // 399\n    if (!domElement) {                                                                                                // 400\n      return null;                                                                                                    // 401\n    }                                                                                                                 // 402\n    if (domElement.nodeType !== Node.ELEMENT_NODE) {                                                                  // 403\n      throw new Error(\"Expected DOM element.\");                                                                       // 404\n    }                                                                                                                 // 405\n    return templateInstanceToComponent((function(_this) {                                                             // 406\n      return function() {                                                                                             // 407\n        return getTemplateInstance(Blaze.getView(domElement));                                                        // 408\n      };                                                                                                              // 409\n    })(this));                                                                                                        // 410\n  };                                                                                                                  // 411\n                                                                                                                      // 412\n  BlazeComponent.prototype.mixins = function() {                                                                      // 413\n    return [];                                                                                                        // 414\n  };                                                                                                                  // 415\n                                                                                                                      // 416\n  BlazeComponent.prototype.mixinParent = function(mixinParent) {                                                      // 417\n    if (this._componentInternals == null) {                                                                           // 418\n      this._componentInternals = {};                                                                                  // 419\n    }                                                                                                                 // 420\n    if (mixinParent) {                                                                                                // 421\n      this._componentInternals.mixinParent = mixinParent;                                                             // 422\n      return this;                                                                                                    // 423\n    }                                                                                                                 // 424\n    return this._componentInternals.mixinParent || null;                                                              // 425\n  };                                                                                                                  // 426\n                                                                                                                      // 427\n  BlazeComponent.prototype.requireMixin = function(nameOrMixin) {                                                     // 428\n    var mixinInstance, mixinInstanceComponent, _ref, _ref1, _ref2, _ref3;                                             // 429\n    assert((_ref = this._componentInternals) != null ? _ref.mixins : void 0);                                         // 430\n    if (this.getMixin(nameOrMixin)) {                                                                                 // 431\n      return this;                                                                                                    // 432\n    }                                                                                                                 // 433\n    if (_.isString(nameOrMixin)) {                                                                                    // 434\n      if (this.constructor.getComponent) {                                                                            // 435\n        mixinInstanceComponent = this.constructor.getComponent(nameOrMixin);                                          // 436\n      } else {                                                                                                        // 437\n        mixinInstanceComponent = BlazeComponent.getComponent(nameOrMixin);                                            // 438\n      }                                                                                                               // 439\n      if (!mixinInstanceComponent) {                                                                                  // 440\n        throw new Error(\"Unknown mixin '\" + nameOrMixin + \"'.\");                                                      // 441\n      }                                                                                                               // 442\n      mixinInstance = new mixinInstanceComponent();                                                                   // 443\n    } else if (_.isFunction(nameOrMixin)) {                                                                           // 444\n      mixinInstance = new nameOrMixin();                                                                              // 445\n    } else {                                                                                                          // 446\n      mixinInstance = nameOrMixin;                                                                                    // 447\n    }                                                                                                                 // 448\n    this._componentInternals.mixins.push(mixinInstance);                                                              // 449\n    if (mixinInstance.mixinParent) {                                                                                  // 450\n      mixinInstance.mixinParent(this);                                                                                // 451\n      assert.equal(mixinInstance.mixinParent(), this);                                                                // 452\n    }                                                                                                                 // 453\n    if (typeof mixinInstance.createMixins === \"function\") {                                                           // 454\n      mixinInstance.createMixins();                                                                                   // 455\n    }                                                                                                                 // 456\n    if (!((_ref1 = this._componentInternals.templateInstance) != null ? _ref1.view.isDestroyed : void 0)) {           // 457\n      if (!this._componentInternals.inOnCreated && ((_ref2 = this._componentInternals.templateInstance) != null ? _ref2.view.isCreated : void 0)) {\n        if (typeof mixinInstance.onCreated === \"function\") {                                                          // 459\n          mixinInstance.onCreated();                                                                                  // 460\n        }                                                                                                             // 461\n      }                                                                                                               // 462\n      if (!this._componentInternals.inOnRendered && ((_ref3 = this._componentInternals.templateInstance) != null ? _ref3.view.isRendered : void 0)) {\n        if (typeof mixinInstance.onRendered === \"function\") {                                                         // 464\n          mixinInstance.onRendered();                                                                                 // 465\n        }                                                                                                             // 466\n      }                                                                                                               // 467\n    }                                                                                                                 // 468\n    return this;                                                                                                      // 469\n  };                                                                                                                  // 470\n                                                                                                                      // 471\n  BlazeComponent.prototype.createMixins = function() {                                                                // 472\n    var mixin, _i, _len, _ref;                                                                                        // 473\n    if (this._componentInternals == null) {                                                                           // 474\n      this._componentInternals = {};                                                                                  // 475\n    }                                                                                                                 // 476\n    if (this._componentInternals.mixins) {                                                                            // 477\n      return;                                                                                                         // 478\n    }                                                                                                                 // 479\n    this._componentInternals.mixins = [];                                                                             // 480\n    _ref = this.mixins();                                                                                             // 481\n    for (_i = 0, _len = _ref.length; _i < _len; _i++) {                                                               // 482\n      mixin = _ref[_i];                                                                                               // 483\n      this.requireMixin(mixin);                                                                                       // 484\n    }                                                                                                                 // 485\n    return this;                                                                                                      // 486\n  };                                                                                                                  // 487\n                                                                                                                      // 488\n  BlazeComponent.prototype.getMixin = function(nameOrMixin) {                                                         // 489\n    var mixin, mixinComponentName, _i, _j, _len, _len1, _ref, _ref1, _ref2;                                           // 490\n    assert((_ref = this._componentInternals) != null ? _ref.mixins : void 0);                                         // 491\n    if (_.isString(nameOrMixin)) {                                                                                    // 492\n      _ref1 = this._componentInternals.mixins;                                                                        // 493\n      for (_i = 0, _len = _ref1.length; _i < _len; _i++) {                                                            // 494\n        mixin = _ref1[_i];                                                                                            // 495\n        mixinComponentName = (typeof mixin.componentName === \"function\" ? mixin.componentName() : void 0) || null;    // 496\n        if (mixinComponentName && mixinComponentName === nameOrMixin) {                                               // 497\n          return mixin;                                                                                               // 498\n        }                                                                                                             // 499\n      }                                                                                                               // 500\n    } else {                                                                                                          // 501\n      _ref2 = this._componentInternals.mixins;                                                                        // 502\n      for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {                                                          // 503\n        mixin = _ref2[_j];                                                                                            // 504\n        if (mixin.constructor === nameOrMixin) {                                                                      // 505\n          return mixin;                                                                                               // 506\n        } else if (mixin === nameOrMixin) {                                                                           // 507\n          return mixin;                                                                                               // 508\n        }                                                                                                             // 509\n      }                                                                                                               // 510\n    }                                                                                                                 // 511\n    return null;                                                                                                      // 512\n  };                                                                                                                  // 513\n                                                                                                                      // 514\n  BlazeComponent.prototype.callFirstWith = function() {                                                               // 515\n    var afterComponentOrMixin, args, mixin, propertyName;                                                             // 516\n    afterComponentOrMixin = arguments[0], propertyName = arguments[1], args = 3 <= arguments.length ? __slice.call(arguments, 2) : [];\n    mixin = this.getFirstWith(afterComponentOrMixin, propertyName);                                                   // 518\n    if (!mixin) {                                                                                                     // 519\n      return;                                                                                                         // 520\n    }                                                                                                                 // 521\n    if (_.isFunction(mixin[propertyName])) {                                                                          // 522\n      return mixin[propertyName].apply(mixin, args);                                                                  // 523\n    } else {                                                                                                          // 524\n      return mixin[propertyName];                                                                                     // 525\n    }                                                                                                                 // 526\n  };                                                                                                                  // 527\n                                                                                                                      // 528\n  BlazeComponent.prototype.getFirstWith = function(afterComponentOrMixin, propertyName) {                             // 529\n    var found, mixin, _i, _len, _ref, _ref1;                                                                          // 530\n    assert((_ref = this._componentInternals) != null ? _ref.mixins : void 0);                                         // 531\n    if (!afterComponentOrMixin) {                                                                                     // 532\n      if (propertyName in this) {                                                                                     // 533\n        return this;                                                                                                  // 534\n      }                                                                                                               // 535\n      found = true;                                                                                                   // 536\n    } else if (afterComponentOrMixin && afterComponentOrMixin === this) {                                             // 537\n      found = true;                                                                                                   // 538\n    } else {                                                                                                          // 539\n      found = false;                                                                                                  // 540\n    }                                                                                                                 // 541\n    _ref1 = this._componentInternals.mixins;                                                                          // 542\n    for (_i = 0, _len = _ref1.length; _i < _len; _i++) {                                                              // 543\n      mixin = _ref1[_i];                                                                                              // 544\n      if (found && propertyName in mixin) {                                                                           // 545\n        return mixin;                                                                                                 // 546\n      }                                                                                                               // 547\n      if (mixin === afterComponentOrMixin) {                                                                          // 548\n        found = true;                                                                                                 // 549\n      }                                                                                                               // 550\n    }                                                                                                                 // 551\n    return null;                                                                                                      // 552\n  };                                                                                                                  // 553\n                                                                                                                      // 554\n  BlazeComponent.renderComponent = function(componentParent) {                                                        // 555\n    return Tracker.nonreactive((function(_this) {                                                                     // 556\n      return function() {                                                                                             // 557\n        var component, componentClass, data, error;                                                                   // 558\n        componentClass = _this;                                                                                       // 559\n        try {                                                                                                         // 560\n          data = Template.currentData();                                                                              // 561\n        } catch (_error) {                                                                                            // 562\n          error = _error;                                                                                             // 563\n          data = null;                                                                                                // 564\n        }                                                                                                             // 565\n        if ((data != null ? data.constructor : void 0) !== share.argumentsConstructor) {                              // 566\n          component = new componentClass();                                                                           // 567\n          return component.renderComponent(componentParent);                                                          // 568\n        }                                                                                                             // 569\n        return function() {                                                                                           // 570\n          var currentWith, reactiveArguments, template;                                                               // 571\n          currentWith = Blaze.getView('with');                                                                        // 572\n          reactiveArguments = new ReactiveVar([], EJSON.equals);                                                      // 573\n          assert(Tracker.active);                                                                                     // 574\n          Tracker.autorun(function(computation) {                                                                     // 575\n            data = currentWith.dataVar.get();                                                                         // 576\n            assert.equal(data != null ? data.constructor : void 0, share.argumentsConstructor);                       // 577\n            return reactiveArguments.set(data._arguments);                                                            // 578\n          });                                                                                                         // 579\n          component = (function(func, args, ctor) {                                                                   // 580\n            ctor.prototype = func.prototype;                                                                          // 581\n            var child = new ctor, result = func.apply(child, args);                                                   // 582\n            return Object(result) === result ? result : child;                                                        // 583\n          })(componentClass, reactiveArguments.get(), function(){});                                                  // 584\n          template = component.renderComponent(componentParent);                                                      // 585\n          registerFirstCreatedHook(template, function() {                                                             // 586\n            this.view.originalParentView = this.view.parentView;                                                      // 587\n            return this.view.parentView = this.view.parentView.parentView.parentView;                                 // 588\n          });                                                                                                         // 589\n          return template;                                                                                            // 590\n        };                                                                                                            // 591\n      };                                                                                                              // 592\n    })(this));                                                                                                        // 593\n  };                                                                                                                  // 594\n                                                                                                                      // 595\n  BlazeComponent.prototype.renderComponent = function(componentParent) {                                              // 596\n    return Tracker.nonreactive((function(_this) {                                                                     // 597\n      return function() {                                                                                             // 598\n        var component, componentTemplate, template, templateBase, _base;                                              // 599\n        component = _this;                                                                                            // 600\n        component.createMixins();                                                                                     // 601\n        componentTemplate = component.template();                                                                     // 602\n        if (_.isString(componentTemplate)) {                                                                          // 603\n          templateBase = Template[componentTemplate];                                                                 // 604\n          if (!templateBase) {                                                                                        // 605\n            throw new Error(\"Template '\" + componentTemplate + \"' cannot be found.\");                                 // 606\n          }                                                                                                           // 607\n        } else if (componentTemplate) {                                                                               // 608\n          templateBase = componentTemplate;                                                                           // 609\n        } else {                                                                                                      // 610\n          throw new Error(\"Template for the component '\" + (component.componentName() || 'unnamed') + \"' not provided.\");\n        }                                                                                                             // 612\n        template = new Blaze.Template(\"BlazeComponent.\" + (component.componentName() || 'unnamed'), templateBase.renderFunction);\n        if ((_base = _this.component)._componentInternals == null) {                                                  // 614\n          _base._componentInternals = {};                                                                             // 615\n        }                                                                                                             // 616\n        registerHooks(template, {                                                                                     // 617\n          onCreated: function() {                                                                                     // 618\n            var componentOrMixin, _base1, _base2, _base3;                                                             // 619\n            if (componentParent) {                                                                                    // 620\n              Tracker.nonreactive((function(_this) {                                                                  // 621\n                return function() {                                                                                   // 622\n                  assert(!component.componentParent());                                                               // 623\n                  component.componentParent(componentParent);                                                         // 624\n                  return componentParent.addComponentChild(component);                                                // 625\n                };                                                                                                    // 626\n              })(this));                                                                                              // 627\n            }                                                                                                         // 628\n            this.view._onViewRendered((function(_this) {                                                              // 629\n              return function() {                                                                                     // 630\n                var componentOrMixin, _results;                                                                       // 631\n                if (_this.view.renderCount !== 1) {                                                                   // 632\n                  return;                                                                                             // 633\n                }                                                                                                     // 634\n                componentOrMixin = null;                                                                              // 635\n                _results = [];                                                                                        // 636\n                while (componentOrMixin = _this.component.getFirstWith(componentOrMixin, 'events')) {                 // 637\n                  _results.push(addEvents(_this.view, componentOrMixin));                                             // 638\n                }                                                                                                     // 639\n                return _results;                                                                                      // 640\n              };                                                                                                      // 641\n            })(this));                                                                                                // 642\n            this.component = component;                                                                               // 643\n            assert(!this.component._componentInternals.templateInstance);                                             // 644\n            this.component._componentInternals.templateInstance = this;                                               // 645\n            try {                                                                                                     // 646\n              this.component._componentInternals.inOnCreated = true;                                                  // 647\n              componentOrMixin = null;                                                                                // 648\n              while (componentOrMixin = this.component.getFirstWith(componentOrMixin, 'onCreated')) {                 // 649\n                componentOrMixin.onCreated();                                                                         // 650\n              }                                                                                                       // 651\n            } finally {                                                                                               // 652\n              delete this.component._componentInternals.inOnCreated;                                                  // 653\n            }                                                                                                         // 654\n            if ((_base1 = this.component._componentInternals).isCreated == null) {                                    // 655\n              _base1.isCreated = new ReactiveVar(true);                                                               // 656\n            }                                                                                                         // 657\n            this.component._componentInternals.isCreated.set(true);                                                   // 658\n            if ((_base2 = this.component._componentInternals).isRendered == null) {                                   // 659\n              _base2.isRendered = new ReactiveVar(false);                                                             // 660\n            }                                                                                                         // 661\n            this.component._componentInternals.isRendered.set(false);                                                 // 662\n            if ((_base3 = this.component._componentInternals).isDestroyed == null) {                                  // 663\n              _base3.isDestroyed = new ReactiveVar(false);                                                            // 664\n            }                                                                                                         // 665\n            return this.component._componentInternals.isDestroyed.set(false);                                         // 666\n          },                                                                                                          // 667\n          onRendered: function() {                                                                                    // 668\n            var componentOrMixin, _base1;                                                                             // 669\n            try {                                                                                                     // 670\n              this.component._componentInternals.inOnRendered = true;                                                 // 671\n              componentOrMixin = null;                                                                                // 672\n              while (componentOrMixin = this.component.getFirstWith(componentOrMixin, 'onRendered')) {                // 673\n                componentOrMixin.onRendered();                                                                        // 674\n              }                                                                                                       // 675\n            } finally {                                                                                               // 676\n              delete this.component._componentInternals.inOnRendered;                                                 // 677\n            }                                                                                                         // 678\n            if ((_base1 = this.component._componentInternals).isRendered == null) {                                   // 679\n              _base1.isRendered = new ReactiveVar(true);                                                              // 680\n            }                                                                                                         // 681\n            this.component._componentInternals.isRendered.set(true);                                                  // 682\n            return Tracker.nonreactive((function(_this) {                                                             // 683\n              return function() {                                                                                     // 684\n                return assert.equal(_this.component._componentInternals.isCreated.get(), true);                       // 685\n              };                                                                                                      // 686\n            })(this));                                                                                                // 687\n          },                                                                                                          // 688\n          onDestroyed: function() {                                                                                   // 689\n            return this.autorun((function(_this) {                                                                    // 690\n              return function(computation) {                                                                          // 691\n                var componentOrMixin, _base1, _base2;                                                                 // 692\n                if (_this.component.componentChildren().length) {                                                     // 693\n                  return;                                                                                             // 694\n                }                                                                                                     // 695\n                computation.stop();                                                                                   // 696\n                Tracker.nonreactive(function() {                                                                      // 697\n                  return assert.equal(_this.component._componentInternals.isCreated.get(), true);                     // 698\n                });                                                                                                   // 699\n                _this.component._componentInternals.isCreated.set(false);                                             // 700\n                if ((_base1 = _this.component._componentInternals).isRendered == null) {                              // 701\n                  _base1.isRendered = new ReactiveVar(false);                                                         // 702\n                }                                                                                                     // 703\n                _this.component._componentInternals.isRendered.set(false);                                            // 704\n                if ((_base2 = _this.component._componentInternals).isDestroyed == null) {                             // 705\n                  _base2.isDestroyed = new ReactiveVar(true);                                                         // 706\n                }                                                                                                     // 707\n                _this.component._componentInternals.isDestroyed.set(true);                                            // 708\n                componentOrMixin = null;                                                                              // 709\n                while (componentOrMixin = _this.component.getFirstWith(componentOrMixin, 'onDestroyed')) {            // 710\n                  componentOrMixin.onDestroyed();                                                                     // 711\n                }                                                                                                     // 712\n                if (componentParent) {                                                                                // 713\n                  component.componentParent(null);                                                                    // 714\n                  componentParent.removeComponentChild(component);                                                    // 715\n                }                                                                                                     // 716\n                return delete _this.component._componentInternals.templateInstance;                                   // 717\n              };                                                                                                      // 718\n            })(this));                                                                                                // 719\n          }                                                                                                           // 720\n        });                                                                                                           // 721\n        return template;                                                                                              // 722\n      };                                                                                                              // 723\n    })(this));                                                                                                        // 724\n  };                                                                                                                  // 725\n                                                                                                                      // 726\n  BlazeComponent.prototype.template = function() {                                                                    // 727\n    return this.callFirstWith(this, 'template') || this.constructor.componentName();                                  // 728\n  };                                                                                                                  // 729\n                                                                                                                      // 730\n  BlazeComponent.prototype.onCreated = function() {};                                                                 // 731\n                                                                                                                      // 732\n  BlazeComponent.prototype.onRendered = function() {};                                                                // 733\n                                                                                                                      // 734\n  BlazeComponent.prototype.onDestroyed = function() {};                                                               // 735\n                                                                                                                      // 736\n  BlazeComponent.prototype.isCreated = function() {                                                                   // 737\n    var _base;                                                                                                        // 738\n    if (this._componentInternals == null) {                                                                           // 739\n      this._componentInternals = {};                                                                                  // 740\n    }                                                                                                                 // 741\n    if ((_base = this._componentInternals).isCreated == null) {                                                       // 742\n      _base.isCreated = new ReactiveVar(false);                                                                       // 743\n    }                                                                                                                 // 744\n    return this._componentInternals.isCreated.get();                                                                  // 745\n  };                                                                                                                  // 746\n                                                                                                                      // 747\n  BlazeComponent.prototype.isRendered = function() {                                                                  // 748\n    var _base;                                                                                                        // 749\n    if (this._componentInternals == null) {                                                                           // 750\n      this._componentInternals = {};                                                                                  // 751\n    }                                                                                                                 // 752\n    if ((_base = this._componentInternals).isRendered == null) {                                                      // 753\n      _base.isRendered = new ReactiveVar(false);                                                                      // 754\n    }                                                                                                                 // 755\n    return this._componentInternals.isRendered.get();                                                                 // 756\n  };                                                                                                                  // 757\n                                                                                                                      // 758\n  BlazeComponent.prototype.isDestroyed = function() {                                                                 // 759\n    var _base;                                                                                                        // 760\n    if (this._componentInternals == null) {                                                                           // 761\n      this._componentInternals = {};                                                                                  // 762\n    }                                                                                                                 // 763\n    if ((_base = this._componentInternals).isDestroyed == null) {                                                     // 764\n      _base.isDestroyed = new ReactiveVar(false);                                                                     // 765\n    }                                                                                                                 // 766\n    return this._componentInternals.isDestroyed.get();                                                                // 767\n  };                                                                                                                  // 768\n                                                                                                                      // 769\n  BlazeComponent.prototype.insertDOMElement = function(parent, node, before) {                                        // 770\n    if (before == null) {                                                                                             // 771\n      before = null;                                                                                                  // 772\n    }                                                                                                                 // 773\n    if (parent && node && (node.parentNode !== parent || node.nextSibling !== before)) {                              // 774\n      parent.insertBefore(node, before);                                                                              // 775\n    }                                                                                                                 // 776\n  };                                                                                                                  // 777\n                                                                                                                      // 778\n  BlazeComponent.prototype.moveDOMElement = function(parent, node, before) {                                          // 779\n    if (before == null) {                                                                                             // 780\n      before = null;                                                                                                  // 781\n    }                                                                                                                 // 782\n    if (parent && node && (node.parentNode !== parent || node.nextSibling !== before)) {                              // 783\n      parent.insertBefore(node, before);                                                                              // 784\n    }                                                                                                                 // 785\n  };                                                                                                                  // 786\n                                                                                                                      // 787\n  BlazeComponent.prototype.removeDOMElement = function(parent, node) {                                                // 788\n    if (parent && node && node.parentNode === parent) {                                                               // 789\n      parent.removeChild(node);                                                                                       // 790\n    }                                                                                                                 // 791\n  };                                                                                                                  // 792\n                                                                                                                      // 793\n  BlazeComponent.prototype.events = function() {                                                                      // 794\n    return [];                                                                                                        // 795\n  };                                                                                                                  // 796\n                                                                                                                      // 797\n  BlazeComponent.prototype.data = function() {                                                                        // 798\n    var _ref, _ref1;                                                                                                  // 799\n    if ((_ref = this._componentInternals) != null ? (_ref1 = _ref.templateInstance) != null ? _ref1.view : void 0 : void 0) {\n      return Blaze.getData(this._componentInternals.templateInstance.view);                                           // 801\n    }                                                                                                                 // 802\n    return void 0;                                                                                                    // 803\n  };                                                                                                                  // 804\n                                                                                                                      // 805\n  BlazeComponent.currentData = function() {                                                                           // 806\n    return Blaze.getData();                                                                                           // 807\n  };                                                                                                                  // 808\n                                                                                                                      // 809\n  BlazeComponent.prototype.currentData = function() {                                                                 // 810\n    return this.constructor.currentData();                                                                            // 811\n  };                                                                                                                  // 812\n                                                                                                                      // 813\n  BlazeComponent.prototype.component = function() {                                                                   // 814\n    return this;                                                                                                      // 815\n  };                                                                                                                  // 816\n                                                                                                                      // 817\n  BlazeComponent.currentComponent = function() {                                                                      // 818\n    return Tracker.nonreactive((function(_this) {                                                                     // 819\n      return function() {                                                                                             // 820\n        return templateInstanceToComponent(Template.instance);                                                        // 821\n      };                                                                                                              // 822\n    })(this));                                                                                                        // 823\n  };                                                                                                                  // 824\n                                                                                                                      // 825\n  BlazeComponent.prototype.currentComponent = function() {                                                            // 826\n    return this.constructor.currentComponent();                                                                       // 827\n  };                                                                                                                  // 828\n                                                                                                                      // 829\n  BlazeComponent.prototype.firstNode = function() {                                                                   // 830\n    var view;                                                                                                         // 831\n    view = this._componentInternals.templateInstance.view;                                                            // 832\n    if (view._domrange && !view.isDestroyed) {                                                                        // 833\n      return view._domrange.firstNode();                                                                              // 834\n    } else {                                                                                                          // 835\n      return null;                                                                                                    // 836\n    }                                                                                                                 // 837\n  };                                                                                                                  // 838\n                                                                                                                      // 839\n  BlazeComponent.prototype.lastNode = function() {                                                                    // 840\n    var view;                                                                                                         // 841\n    view = this._componentInternals.templateInstance.view;                                                            // 842\n    if (view._domrange && !view.isDestroyed) {                                                                        // 843\n      return view._domrange.lastNode();                                                                               // 844\n    } else {                                                                                                          // 845\n      return null;                                                                                                    // 846\n    }                                                                                                                 // 847\n  };                                                                                                                  // 848\n                                                                                                                      // 849\n  return BlazeComponent;                                                                                              // 850\n                                                                                                                      // 851\n})(BaseComponent);                                                                                                    // 852\n                                                                                                                      // 853\n_ref = Blaze.TemplateInstance.prototype;                                                                              // 854\n_fn = function(methodName, method) {                                                                                  // 855\n  return BlazeComponent.prototype[methodName] = function() {                                                          // 856\n    var args, _ref1;                                                                                                  // 857\n    args = 1 <= arguments.length ? __slice.call(arguments, 0) : [];                                                   // 858\n    return (_ref1 = this._componentInternals.templateInstance)[methodName].apply(_ref1, args);                        // 859\n  };                                                                                                                  // 860\n};                                                                                                                    // 861\nfor (methodName in _ref) {                                                                                            // 862\n  method = _ref[methodName];                                                                                          // 863\n  _fn(methodName, method);                                                                                            // 864\n}                                                                                                                     // 865\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                      // 867\n}).call(this);                                                                                                        // 868\n                                                                                                                      // 869\n                                                                                                                      // 870\n                                                                                                                      // 871\n                                                                                                                      // 872\n                                                                                                                      // 873\n                                                                                                                      // 874\n(function () {                                                                                                        // 875\n                                                                                                                      // 876\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                 //\n// packages/peerlibrary:blaze-components/debug.coffee.js                                                           //\n//                                                                                                                 //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                   //\n__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;\nvar                                                                                                                   // 884\n  __hasProp = {}.hasOwnProperty,                                                                                      // 885\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };\n                                                                                                                      // 888\nBlazeComponentDebug = (function(_super) {                                                                             // 889\n  __extends(BlazeComponentDebug, _super);                                                                             // 890\n                                                                                                                      // 891\n  function BlazeComponentDebug() {                                                                                    // 892\n    return BlazeComponentDebug.__super__.constructor.apply(this, arguments);                                          // 893\n  }                                                                                                                   // 894\n                                                                                                                      // 895\n  BlazeComponentDebug.startComponent = function(component) {                                                          // 896\n    BlazeComponentDebug.__super__.constructor.startComponent.apply(this, arguments);                                  // 897\n    return console.log(component.data());                                                                             // 898\n  };                                                                                                                  // 899\n                                                                                                                      // 900\n  BlazeComponentDebug.startMarkedComponent = function(component) {                                                    // 901\n    BlazeComponentDebug.__super__.constructor.startMarkedComponent.apply(this, arguments);                            // 902\n    return console.log(component.data());                                                                             // 903\n  };                                                                                                                  // 904\n                                                                                                                      // 905\n  BlazeComponentDebug.dumpComponentSubtree = function(rootComponentOrElement) {                                       // 906\n    if (rootComponentOrElement.nodeType === Node.ELEMENT_NODE) {                                                      // 907\n      rootComponentOrElement = BlazeComponent.getComponentForElement(rootComponentOrElement);                         // 908\n    }                                                                                                                 // 909\n    return BlazeComponentDebug.__super__.constructor.dumpComponentSubtree.apply(this, arguments);                     // 910\n  };                                                                                                                  // 911\n                                                                                                                      // 912\n  BlazeComponentDebug.dumpComponentTree = function(rootComponentOrElement) {                                          // 913\n    if (rootComponentOrElement.nodeType === Node.ELEMENT_NODE) {                                                      // 914\n      rootComponentOrElement = BlazeComponent.getComponentForElement(rootComponentOrElement);                         // 915\n    }                                                                                                                 // 916\n    return BlazeComponentDebug.__super__.constructor.dumpComponentTree.apply(this, arguments);                        // 917\n  };                                                                                                                  // 918\n                                                                                                                      // 919\n  BlazeComponentDebug.dumpAllComponents = function() {                                                                // 920\n    var allRootComponents, rootComponent, _i, _len;                                                                   // 921\n    allRootComponents = [];                                                                                           // 922\n    $('*').each((function(_this) {                                                                                    // 923\n      return function(i, element) {                                                                                   // 924\n        var component, rootComponent;                                                                                 // 925\n        component = BlazeComponent.getComponentForElement(element);                                                   // 926\n        if (!component) {                                                                                             // 927\n          return;                                                                                                     // 928\n        }                                                                                                             // 929\n        rootComponent = _this.componentRoot(component);                                                               // 930\n        if (__indexOf.call(allRootComponents, rootComponent) < 0) {                                                   // 931\n          return allRootComponents.push(rootComponent);                                                               // 932\n        }                                                                                                             // 933\n      };                                                                                                              // 934\n    })(this));                                                                                                        // 935\n    for (_i = 0, _len = allRootComponents.length; _i < _len; _i++) {                                                  // 936\n      rootComponent = allRootComponents[_i];                                                                          // 937\n      this.dumpComponentSubtree(rootComponent);                                                                       // 938\n    }                                                                                                                 // 939\n  };                                                                                                                  // 940\n                                                                                                                      // 941\n  return BlazeComponentDebug;                                                                                         // 942\n                                                                                                                      // 943\n})(BaseComponentDebug);                                                                                               // 944\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                      // 946\n}).call(this);                                                                                                        // 947\n                                                                                                                      // 948\n                                                                                                                      // 949\n                                                                                                                      // 950\n                                                                                                                      // 951\n                                                                                                                      // 952\n                                                                                                                      // 953\n(function () {                                                                                                        // 954\n                                                                                                                      // 955\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                 //\n// packages/peerlibrary:blaze-components/client.coffee.js                                                          //\n//                                                                                                                 //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                   //\n__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;\nvar createUIHooks, originalDOMRangeAttach;                                                                            // 963\n                                                                                                                      // 964\ncreateUIHooks = function(component, parentNode) {                                                                     // 965\n  return {                                                                                                            // 966\n    insertElement: (function(_this) {                                                                                 // 967\n      return function(node, before) {                                                                                 // 968\n        if (node._uihooks == null) {                                                                                  // 969\n          node._uihooks = createUIHooks(component, node);                                                             // 970\n        }                                                                                                             // 971\n        return component.insertDOMElement(parentNode, node, before);                                                  // 972\n      };                                                                                                              // 973\n    })(this),                                                                                                         // 974\n    moveElement: (function(_this) {                                                                                   // 975\n      return function(node, before) {                                                                                 // 976\n        if (node._uihooks == null) {                                                                                  // 977\n          node._uihooks = createUIHooks(component, node);                                                             // 978\n        }                                                                                                             // 979\n        return component.moveDOMElement(parentNode, node, before);                                                    // 980\n      };                                                                                                              // 981\n    })(this),                                                                                                         // 982\n    removeElement: (function(_this) {                                                                                 // 983\n      return function(node) {                                                                                         // 984\n        if (node._uihooks == null) {                                                                                  // 985\n          node._uihooks = createUIHooks(component, node);                                                             // 986\n        }                                                                                                             // 987\n        return component.removeDOMElement(node.parentNode, node);                                                     // 988\n      };                                                                                                              // 989\n    })(this)                                                                                                          // 990\n  };                                                                                                                  // 991\n};                                                                                                                    // 992\n                                                                                                                      // 993\noriginalDOMRangeAttach = Blaze._DOMRange.prototype.attach;                                                            // 994\n                                                                                                                      // 995\nBlaze._DOMRange.prototype.attach = function(parentElement, nextNode, _isMove, _isReplace) {                           // 996\n  var component, oldUIHooks, _ref;                                                                                    // 997\n  if (component = (_ref = this.view._templateInstance) != null ? _ref.component : void 0) {                           // 998\n    oldUIHooks = parentElement._uihooks;                                                                              // 999\n    try {                                                                                                             // 1000\n      parentElement._uihooks = createUIHooks(component, parentElement);                                               // 1001\n      return originalDOMRangeAttach.apply(this, arguments);                                                           // 1002\n    } finally {                                                                                                       // 1003\n      if (oldUIHooks) {                                                                                               // 1004\n        parentElement._uihooks = oldUIHooks;                                                                          // 1005\n      }                                                                                                               // 1006\n    }                                                                                                                 // 1007\n  }                                                                                                                   // 1008\n  return originalDOMRangeAttach.apply(this, arguments);                                                               // 1009\n};                                                                                                                    // 1010\n                                                                                                                      // 1011\nshare.argumentsConstructor = function() {                                                                             // 1012\n  return assert(false);                                                                                               // 1013\n};                                                                                                                    // 1014\n                                                                                                                      // 1015\nTemplate.registerHelper('args', function() {                                                                          // 1016\n  var obj;                                                                                                            // 1017\n  obj = {};                                                                                                           // 1018\n  obj.constructor = share.argumentsConstructor;                                                                       // 1019\n  obj._arguments = arguments;                                                                                         // 1020\n  return obj;                                                                                                         // 1021\n});                                                                                                                   // 1022\n                                                                                                                      // 1023\nTemplate.__dynamicWithDataContext.__helpers.set('chooseTemplate', function(name) {                                    // 1024\n  return Blaze._getTemplate(name, (function(_this) {                                                                  // 1025\n    return function() {                                                                                               // 1026\n      return Template.instance();                                                                                     // 1027\n    };                                                                                                                // 1028\n  })(this));                                                                                                          // 1029\n});                                                                                                                   // 1030\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                      // 1032\n}).call(this);                                                                                                        // 1033\n                                                                                                                      // 1034\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n\n\n/* Exports */\nif (typeof Package === 'undefined') Package = {};\nPackage['peerlibrary:blaze-components'] = {\n  BlazeComponent: BlazeComponent,\n  BlazeComponentDebug: BlazeComponentDebug\n};\n\n})();\n","servePath":"/packages/peerlibrary_blaze-components.js","sourceMap":{"version":3,"sources":["/packages/peerlibrary_blaze-components/packages/peerlibrary_blaze-components.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6H","file":"/packages/peerlibrary_blaze-components.js","sourcesContent":["(function () {\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                 //\n// packages/peerlibrary:blaze-components/lookup.js                                                                 //\n//                                                                                                                 //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                   //\n/* This file is a direct copy of Blaze lookup.js with modifications described                                      // 1\n   in this pull request: https://github.com/meteor/meteor/pull/4036                                                // 2\n                                                                                                                   // 3\n   TODO: Remove this file once the pull request is merged in.                                                      // 4\n */                                                                                                                // 5\n                                                                                                                   // 6\n// If `x` is a function, binds the value of `this` for that function                                               // 7\n// to the current data context.                                                                                    // 8\nvar bindDataContext = function (x) {                                                                               // 9\n  if (typeof x === 'function') {                                                                                   // 10\n    return function () {                                                                                           // 11\n      var data = Blaze.getData();                                                                                  // 12\n      if (data == null)                                                                                            // 13\n        data = {};                                                                                                 // 14\n      return x.apply(data, arguments);                                                                             // 15\n    };                                                                                                             // 16\n  }                                                                                                                // 17\n  return x;                                                                                                        // 18\n};                                                                                                                 // 19\n                                                                                                                   // 20\nBlaze._getTemplateHelper = function (template, name, templateInstance) {                                           // 21\n  // XXX COMPAT WITH 0.9.3                                                                                         // 22\n  var isKnownOldStyleHelper = false;                                                                               // 23\n                                                                                                                   // 24\n  if (template.__helpers.has(name)) {                                                                              // 25\n    var helper = template.__helpers.get(name);                                                                     // 26\n    if (helper === Blaze._OLDSTYLE_HELPER) {                                                                       // 27\n      isKnownOldStyleHelper = true;                                                                                // 28\n    } else if (helper != null) {                                                                                   // 29\n      return wrapHelper(bindDataContext(helper), templateInstance);                                                // 30\n    } else {                                                                                                       // 31\n      return null;                                                                                                 // 32\n    }                                                                                                              // 33\n  }                                                                                                                // 34\n                                                                                                                   // 35\n  // old-style helper                                                                                              // 36\n  if (name in template) {                                                                                          // 37\n    // Only warn once per helper                                                                                   // 38\n    if (! isKnownOldStyleHelper) {                                                                                 // 39\n      template.__helpers.set(name, Blaze._OLDSTYLE_HELPER);                                                        // 40\n      if (! template._NOWARN_OLDSTYLE_HELPERS) {                                                                   // 41\n        Blaze._warn('Assigning helper with `' + template.viewName + '.' +                                          // 42\n                    name + ' = ...` is deprecated.  Use `' + template.viewName +                                   // 43\n                    '.helpers(...)` instead.');                                                                    // 44\n      }                                                                                                            // 45\n    }                                                                                                              // 46\n    if (template[name] != null) {                                                                                  // 47\n      return wrapHelper(bindDataContext(template[name]), templateInstance);                                        // 48\n    }                                                                                                              // 49\n  }                                                                                                                // 50\n                                                                                                                   // 51\n  return null;                                                                                                     // 52\n};                                                                                                                 // 53\n                                                                                                                   // 54\nvar wrapHelper = function (f, templateFunc) {                                                                      // 55\n  // XXX COMPAT WITH METEOR 1.0.3.2                                                                                // 56\n  if (! Blaze.Template._withTemplateInstanceFunc) {                                                                // 57\n    return Blaze._wrapCatchingExceptions(f, 'template helper');                                                    // 58\n  }                                                                                                                // 59\n                                                                                                                   // 60\n  if (typeof f !== \"function\") {                                                                                   // 61\n    return f;                                                                                                      // 62\n  }                                                                                                                // 63\n                                                                                                                   // 64\n  return function () {                                                                                             // 65\n    var self = this;                                                                                               // 66\n    var args = arguments;                                                                                          // 67\n                                                                                                                   // 68\n    return Blaze.Template._withTemplateInstanceFunc(templateFunc, function () {                                    // 69\n      return Blaze._wrapCatchingExceptions(f, 'template helper').apply(self, args);                                // 70\n    });                                                                                                            // 71\n  };                                                                                                               // 72\n};                                                                                                                 // 73\n                                                                                                                   // 74\n// templateInstance argument is provided to be available for possible                                              // 75\n// alternative implementations of this function by 3rd party packages.                                             // 76\nBlaze._getTemplate = function (name, templateInstance) {                                                           // 77\n  if ((name in Blaze.Template) && (Blaze.Template[name] instanceof Blaze.Template)) {                              // 78\n    return Blaze.Template[name];                                                                                   // 79\n  }                                                                                                                // 80\n  return null;                                                                                                     // 81\n};                                                                                                                 // 82\n                                                                                                                   // 83\nBlaze.View.prototype.lookup = function (name, _options) {                                                          // 84\n  var template = this.template;                                                                                    // 85\n  var lookupTemplate = _options && _options.template;                                                              // 86\n  var helper;                                                                                                      // 87\n  var boundTmplInstance;                                                                                           // 88\n  var foundTemplate;                                                                                               // 89\n                                                                                                                   // 90\n  if (this.templateInstance) {                                                                                     // 91\n    boundTmplInstance = _.bind(this.templateInstance, this);                                                       // 92\n  }                                                                                                                // 93\n                                                                                                                   // 94\n  if (/^\\./.test(name)) {                                                                                          // 95\n    // starts with a dot. must be a series of dots which maps to an                                                // 96\n    // ancestor of the appropriate height.                                                                         // 97\n    if (!/^(\\.)+$/.test(name))                                                                                     // 98\n      throw new Error(\"id starting with dot must be a series of dots\");                                            // 99\n                                                                                                                   // 100\n    return Blaze._parentData(name.length - 1, true /*_functionWrapped*/);                                          // 101\n                                                                                                                   // 102\n  } else if (template &&                                                                                           // 103\n             ((helper = Blaze._getTemplateHelper(template, name, boundTmplInstance)) != null)) {                   // 104\n    return helper;                                                                                                 // 105\n  } else if (lookupTemplate &&                                                                                     // 106\n             ((foundTemplate = Blaze._getTemplate(name, boundTmplInstance)) != null)) {                            // 107\n    return foundTemplate;                                                                                          // 108\n  } else if (Blaze._globalHelpers[name] != null) {                                                                 // 109\n    return wrapHelper(bindDataContext(Blaze._globalHelpers[name]),                                                 // 110\n      boundTmplInstance);                                                                                          // 111\n  } else {                                                                                                         // 112\n    return function () {                                                                                           // 113\n      var isCalledAsFunction = (arguments.length > 0);                                                             // 114\n      var data = Blaze.getData();                                                                                  // 115\n      if (lookupTemplate && ! (data && data[name])) {                                                              // 116\n        throw new Error(\"No such template: \" + name);                                                              // 117\n      }                                                                                                            // 118\n      if (isCalledAsFunction && ! (data && data[name])) {                                                          // 119\n        throw new Error(\"No such function: \" + name);                                                              // 120\n      }                                                                                                            // 121\n      if (! data)                                                                                                  // 122\n        return null;                                                                                               // 123\n      var x = data[name];                                                                                          // 124\n      if (typeof x !== 'function') {                                                                               // 125\n        if (isCalledAsFunction) {                                                                                  // 126\n          throw new Error(\"Can't call non-function: \" + x);                                                        // 127\n        }                                                                                                          // 128\n        return x;                                                                                                  // 129\n      }                                                                                                            // 130\n      return x.apply(data, arguments);                                                                             // 131\n    };                                                                                                             // 132\n  }                                                                                                                // 133\n  return null;                                                                                                     // 134\n};                                                                                                                 // 135\n                                                                                                                   // 136\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n\n\n\n\n\n\n(function () {\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                 //\n// packages/peerlibrary:blaze-components/lib.coffee.js                                                             //\n//                                                                                                                 //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                   //\n__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;\nvar ComponentsNamespaceReference, addEvents, bindComponent, bindDataContext, getTemplateInstance, getTemplateInstanceFunction, method, methodName, originalDot, originalGetTemplate, originalInclude, registerFirstCreatedHook, registerHooks, templateInstanceToComponent, wrapHelper, _fn, _ref,                \n  __slice = [].slice,\n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\ngetTemplateInstance = function(view) {\n  while (view && !view._templateInstance) {\n    view = view.parentView;\n  }\n  return view != null ? view._templateInstance : void 0;\n};\n\ntemplateInstanceToComponent = function(templateInstanceFunc) {\n  var templateInstance;\n  templateInstance = typeof templateInstanceFunc === \"function\" ? templateInstanceFunc() : void 0;\n  templateInstance = getTemplateInstance(templateInstance != null ? templateInstance.view : void 0);\n  while (templateInstance) {\n    if ('component' in templateInstance) {\n      return templateInstance.component;\n    }\n    templateInstance = getTemplateInstance(templateInstance.view.parentView);\n  }\n  return null;\n};\n\ngetTemplateInstanceFunction = function(view) {\n  var templateInstance;\n  templateInstance = getTemplateInstance(view);\n  return function() {\n    return templateInstance;\n  };\n};\n\nComponentsNamespaceReference = (function() {\n  function ComponentsNamespaceReference(namespace, templateInstance) {\n    this.namespace = namespace;\n    this.templateInstance = templateInstance;\n  }\n\n  return ComponentsNamespaceReference;\n\n})();\n\noriginalDot = Spacebars.dot;\n\nSpacebars.dot = function() {\n  var args, value;\n  value = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\n  if (value instanceof ComponentsNamespaceReference) {\n    return Blaze._getTemplate(\"\" + value.namespace + \".\" + (args.join('.')), value.templateInstance);\n  }\n  return originalDot.apply(null, [value].concat(__slice.call(args)));\n};\n\noriginalInclude = Spacebars.include;\n\nSpacebars.include = function() {\n  var args, templateOrFunction;\n  templateOrFunction = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];\n  if (templateOrFunction instanceof ComponentsNamespaceReference) {\n    templateOrFunction = Blaze._getTemplate(templateOrFunction.namespace, templateOrFunction.templateInstance);\n  }\n  return originalInclude.apply(null, [templateOrFunction].concat(__slice.call(args)));\n};\n\nBlaze._getTemplateHelper = function(template, name, templateInstance) {\n  var component, helper, isKnownOldStyleHelper, mixinOrComponent, _ref;\n  isKnownOldStyleHelper = false;\n  if (template.__helpers.has(name)) {\n    helper = template.__helpers.get(name);\n    if (helper === Blaze._OLDSTYLE_HELPER) {\n      isKnownOldStyleHelper = true;\n    } else if (helper != null) {\n      return wrapHelper(bindDataContext(helper), templateInstance);\n    } else {\n      return null;\n    }\n  }\n  if (name in template) {\n    if (!isKnownOldStyleHelper) {\n      template.__helpers.set(name, Blaze._OLDSTYLE_HELPER);\n      if (!template._NOWARN_OLDSTYLE_HELPERS) {\n        Blaze._warn(\"Assigning helper with `\" + template.viewName + \".\" + name + \" = ...` is deprecated.  Use `\" + template.viewName + \".helpers(...)` instead.\");\n      }\n    }\n    if (template[name] != null) {\n      return wrapHelper(bindDataContext(template[name]), templateInstance);\n    } else {\n      return null;\n    }\n  }\n  if (!templateInstance) {\n    return null;\n  }\n  if ((_ref = template.viewName) === 'Template.__dynamicWithDataContext' || _ref === 'Template.__dynamic') {\n    return null;\n  }\n  component = Tracker.nonreactive(function() {\n    return templateInstanceToComponent(templateInstance);\n  });\n  if (component) {\n    if (mixinOrComponent = component.getFirstWith(null, name)) {\n      return wrapHelper(bindComponent(mixinOrComponent, mixinOrComponent[name]), templateInstance);\n    }\n  }\n  if (name && name in BlazeComponent.components) {\n    return new ComponentsNamespaceReference(name, templateInstance);\n  }\n  return null;\n};\n\nbindComponent = function(component, helper) {\n  if (_.isFunction(helper)) {\n    return _.bind(helper, component);\n  } else {\n    return helper;\n  }\n};\n\nbindDataContext = function(helper) {\n  if (_.isFunction(helper)) {\n    return function() {\n      var data;\n      data = Blaze.getData();\n      if (data == null) {\n        data = {};\n      }\n      return helper.apply(data, arguments);\n    };\n  } else {\n    return helper;\n  }\n};\n\nwrapHelper = function(f, templateFunc) {\n  if (!Blaze.Template._withTemplateInstanceFunc) {\n    return Blaze._wrapCatchingExceptions(f, 'template helper');\n  }\n  if (!_.isFunction(f)) {\n    return f;\n  }\n  return function() {\n    var args, self;\n    self = this;\n    args = arguments;\n    return Blaze.Template._withTemplateInstanceFunc(templateFunc, function() {\n      return Blaze._wrapCatchingExceptions(f, 'template helper').apply(self, args);\n    });\n  };\n};\n\naddEvents = function(view, component) {\n  var eventMap, events, eventsList, handler, spec, _fn, _i, _len;\n  eventsList = component.events();\n  if (!_.isArray(eventsList)) {\n    throw new Error(\"'events' method from the component '\" + (component.componentName() || 'unnamed') + \"' did not return a list of event maps.\");\n  }\n  for (_i = 0, _len = eventsList.length; _i < _len; _i++) {\n    events = eventsList[_i];\n    eventMap = {};\n    _fn = function(spec, handler) {\n      return eventMap[spec] = function() {\n        var args, currentView, event, templateInstance, withTemplateInstanceFunc;\n        args = 1 <= arguments.length ? __slice.call(arguments, 0) : [];\n        event = args[0];\n        currentView = Blaze.getView(event.currentTarget);\n        templateInstance = getTemplateInstanceFunction(currentView);\n        if (Template._withTemplateInstanceFunc) {\n          withTemplateInstanceFunc = Template._withTemplateInstanceFunc;\n        } else {\n          withTemplateInstanceFunc = function(templateInstance, f) {\n            return f();\n          };\n        }\n        withTemplateInstanceFunc(templateInstance, function() {\n          return Blaze._withCurrentView(currentView, function() {\n            return handler.apply(component, args);\n          });\n        });\n      };\n    };\n    for (spec in events) {\n      handler = events[spec];\n      _fn(spec, handler);\n    }\n    Blaze._addEventMap(view, eventMap);\n  }\n};\n\noriginalGetTemplate = Blaze._getTemplate;\n\nBlaze._getTemplate = function(name, templateInstance) {\n  var template;\n  template = Tracker.nonreactive(function() {\n    var componentParent, _ref;\n    componentParent = templateInstanceToComponent(templateInstance);\n    return (_ref = BlazeComponent.getComponent(name)) != null ? _ref.renderComponent(componentParent) : void 0;\n  });\n  if (template && (template instanceof Blaze.Template || _.isFunction(template))) {\n    return template;\n  }\n  return originalGetTemplate(name);\n};\n\nregisterHooks = function(template, hooks) {\n  if (template.onCreated) {\n    template.onCreated(hooks.onCreated);\n    template.onRendered(hooks.onRendered);\n    return template.onDestroyed(hooks.onDestroyed);\n  } else {\n    template.created = hooks.onCreated;\n    template.rendered = hooks.onRendered;\n    return template.destroyed = hooks.onDestroyed;\n  }\n};\n\nregisterFirstCreatedHook = function(template, onCreated) {\n  var oldCreated;\n  if (template._callbacks) {\n    return template._callbacks.created.unshift(onCreated);\n  } else {\n    oldCreated = template.created;\n    return template.created = function() {\n      onCreated.call(this);\n      return oldCreated != null ? oldCreated.call(this) : void 0;\n    };\n  }\n};\n\nBlazeComponent = (function(_super) {\n  __extends(BlazeComponent, _super);\n\n  function BlazeComponent() {\n    return BlazeComponent.__super__.constructor.apply(this, arguments);\n  }\n\n  BlazeComponent.getComponentForElement = function(domElement) {\n    if (!domElement) {\n      return null;\n    }\n    if (domElement.nodeType !== Node.ELEMENT_NODE) {\n      throw new Error(\"Expected DOM element.\");\n    }\n    return templateInstanceToComponent((function(_this) {\n      return function() {\n        return getTemplateInstance(Blaze.getView(domElement));\n      };\n    })(this));\n  };\n\n  BlazeComponent.prototype.mixins = function() {\n    return [];\n  };\n\n  BlazeComponent.prototype.mixinParent = function(mixinParent) {\n    if (this._componentInternals == null) {\n      this._componentInternals = {};\n    }\n    if (mixinParent) {\n      this._componentInternals.mixinParent = mixinParent;\n      return this;\n    }\n    return this._componentInternals.mixinParent || null;\n  };\n\n  BlazeComponent.prototype.requireMixin = function(nameOrMixin) {\n    var mixinInstance, mixinInstanceComponent, _ref, _ref1, _ref2, _ref3;\n    assert((_ref = this._componentInternals) != null ? _ref.mixins : void 0);\n    if (this.getMixin(nameOrMixin)) {\n      return this;\n    }\n    if (_.isString(nameOrMixin)) {\n      if (this.constructor.getComponent) {\n        mixinInstanceComponent = this.constructor.getComponent(nameOrMixin);\n      } else {\n        mixinInstanceComponent = BlazeComponent.getComponent(nameOrMixin);\n      }\n      if (!mixinInstanceComponent) {\n        throw new Error(\"Unknown mixin '\" + nameOrMixin + \"'.\");\n      }\n      mixinInstance = new mixinInstanceComponent();\n    } else if (_.isFunction(nameOrMixin)) {\n      mixinInstance = new nameOrMixin();\n    } else {\n      mixinInstance = nameOrMixin;\n    }\n    this._componentInternals.mixins.push(mixinInstance);\n    if (mixinInstance.mixinParent) {\n      mixinInstance.mixinParent(this);\n      assert.equal(mixinInstance.mixinParent(), this);\n    }\n    if (typeof mixinInstance.createMixins === \"function\") {\n      mixinInstance.createMixins();\n    }\n    if (!((_ref1 = this._componentInternals.templateInstance) != null ? _ref1.view.isDestroyed : void 0)) {\n      if (!this._componentInternals.inOnCreated && ((_ref2 = this._componentInternals.templateInstance) != null ? _ref2.view.isCreated : void 0)) {\n        if (typeof mixinInstance.onCreated === \"function\") {\n          mixinInstance.onCreated();\n        }\n      }\n      if (!this._componentInternals.inOnRendered && ((_ref3 = this._componentInternals.templateInstance) != null ? _ref3.view.isRendered : void 0)) {\n        if (typeof mixinInstance.onRendered === \"function\") {\n          mixinInstance.onRendered();\n        }\n      }\n    }\n    return this;\n  };\n\n  BlazeComponent.prototype.createMixins = function() {\n    var mixin, _i, _len, _ref;\n    if (this._componentInternals == null) {\n      this._componentInternals = {};\n    }\n    if (this._componentInternals.mixins) {\n      return;\n    }\n    this._componentInternals.mixins = [];\n    _ref = this.mixins();\n    for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n      mixin = _ref[_i];\n      this.requireMixin(mixin);\n    }\n    return this;\n  };\n\n  BlazeComponent.prototype.getMixin = function(nameOrMixin) {\n    var mixin, mixinComponentName, _i, _j, _len, _len1, _ref, _ref1, _ref2;\n    assert((_ref = this._componentInternals) != null ? _ref.mixins : void 0);\n    if (_.isString(nameOrMixin)) {\n      _ref1 = this._componentInternals.mixins;\n      for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n        mixin = _ref1[_i];\n        mixinComponentName = (typeof mixin.componentName === \"function\" ? mixin.componentName() : void 0) || null;\n        if (mixinComponentName && mixinComponentName === nameOrMixin) {\n          return mixin;\n        }\n      }\n    } else {\n      _ref2 = this._componentInternals.mixins;\n      for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {\n        mixin = _ref2[_j];\n        if (mixin.constructor === nameOrMixin) {\n          return mixin;\n        } else if (mixin === nameOrMixin) {\n          return mixin;\n        }\n      }\n    }\n    return null;\n  };\n\n  BlazeComponent.prototype.callFirstWith = function() {\n    var afterComponentOrMixin, args, mixin, propertyName;\n    afterComponentOrMixin = arguments[0], propertyName = arguments[1], args = 3 <= arguments.length ? __slice.call(arguments, 2) : [];\n    mixin = this.getFirstWith(afterComponentOrMixin, propertyName);\n    if (!mixin) {\n      return;\n    }\n    if (_.isFunction(mixin[propertyName])) {\n      return mixin[propertyName].apply(mixin, args);\n    } else {\n      return mixin[propertyName];\n    }\n  };\n\n  BlazeComponent.prototype.getFirstWith = function(afterComponentOrMixin, propertyName) {\n    var found, mixin, _i, _len, _ref, _ref1;\n    assert((_ref = this._componentInternals) != null ? _ref.mixins : void 0);\n    if (!afterComponentOrMixin) {\n      if (propertyName in this) {\n        return this;\n      }\n      found = true;\n    } else if (afterComponentOrMixin && afterComponentOrMixin === this) {\n      found = true;\n    } else {\n      found = false;\n    }\n    _ref1 = this._componentInternals.mixins;\n    for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n      mixin = _ref1[_i];\n      if (found && propertyName in mixin) {\n        return mixin;\n      }\n      if (mixin === afterComponentOrMixin) {\n        found = true;\n      }\n    }\n    return null;\n  };\n\n  BlazeComponent.renderComponent = function(componentParent) {\n    return Tracker.nonreactive((function(_this) {\n      return function() {\n        var component, componentClass, data, error;\n        componentClass = _this;\n        try {\n          data = Template.currentData();\n        } catch (_error) {\n          error = _error;\n          data = null;\n        }\n        if ((data != null ? data.constructor : void 0) !== share.argumentsConstructor) {\n          component = new componentClass();\n          return component.renderComponent(componentParent);\n        }\n        return function() {\n          var currentWith, reactiveArguments, template;\n          currentWith = Blaze.getView('with');\n          reactiveArguments = new ReactiveVar([], EJSON.equals);\n          assert(Tracker.active);\n          Tracker.autorun(function(computation) {\n            data = currentWith.dataVar.get();\n            assert.equal(data != null ? data.constructor : void 0, share.argumentsConstructor);\n            return reactiveArguments.set(data._arguments);\n          });\n          component = (function(func, args, ctor) {\n            ctor.prototype = func.prototype;\n            var child = new ctor, result = func.apply(child, args);\n            return Object(result) === result ? result : child;\n          })(componentClass, reactiveArguments.get(), function(){});\n          template = component.renderComponent(componentParent);\n          registerFirstCreatedHook(template, function() {\n            this.view.originalParentView = this.view.parentView;\n            return this.view.parentView = this.view.parentView.parentView.parentView;\n          });\n          return template;\n        };\n      };\n    })(this));\n  };\n\n  BlazeComponent.prototype.renderComponent = function(componentParent) {\n    return Tracker.nonreactive((function(_this) {\n      return function() {\n        var component, componentTemplate, template, templateBase, _base;\n        component = _this;\n        component.createMixins();\n        componentTemplate = component.template();\n        if (_.isString(componentTemplate)) {\n          templateBase = Template[componentTemplate];\n          if (!templateBase) {\n            throw new Error(\"Template '\" + componentTemplate + \"' cannot be found.\");\n          }\n        } else if (componentTemplate) {\n          templateBase = componentTemplate;\n        } else {\n          throw new Error(\"Template for the component '\" + (component.componentName() || 'unnamed') + \"' not provided.\");\n        }\n        template = new Blaze.Template(\"BlazeComponent.\" + (component.componentName() || 'unnamed'), templateBase.renderFunction);\n        if ((_base = _this.component)._componentInternals == null) {\n          _base._componentInternals = {};\n        }\n        registerHooks(template, {\n          onCreated: function() {\n            var componentOrMixin, _base1, _base2, _base3;\n            if (componentParent) {\n              Tracker.nonreactive((function(_this) {\n                return function() {\n                  assert(!component.componentParent());\n                  component.componentParent(componentParent);\n                  return componentParent.addComponentChild(component);\n                };\n              })(this));\n            }\n            this.view._onViewRendered((function(_this) {\n              return function() {\n                var componentOrMixin, _results;\n                if (_this.view.renderCount !== 1) {\n                  return;\n                }\n                componentOrMixin = null;\n                _results = [];\n                while (componentOrMixin = _this.component.getFirstWith(componentOrMixin, 'events')) {\n                  _results.push(addEvents(_this.view, componentOrMixin));\n                }\n                return _results;\n              };\n            })(this));\n            this.component = component;\n            assert(!this.component._componentInternals.templateInstance);\n            this.component._componentInternals.templateInstance = this;\n            try {\n              this.component._componentInternals.inOnCreated = true;\n              componentOrMixin = null;\n              while (componentOrMixin = this.component.getFirstWith(componentOrMixin, 'onCreated')) {\n                componentOrMixin.onCreated();\n              }\n            } finally {\n              delete this.component._componentInternals.inOnCreated;\n            }\n            if ((_base1 = this.component._componentInternals).isCreated == null) {\n              _base1.isCreated = new ReactiveVar(true);\n            }\n            this.component._componentInternals.isCreated.set(true);\n            if ((_base2 = this.component._componentInternals).isRendered == null) {\n              _base2.isRendered = new ReactiveVar(false);\n            }\n            this.component._componentInternals.isRendered.set(false);\n            if ((_base3 = this.component._componentInternals).isDestroyed == null) {\n              _base3.isDestroyed = new ReactiveVar(false);\n            }\n            return this.component._componentInternals.isDestroyed.set(false);\n          },\n          onRendered: function() {\n            var componentOrMixin, _base1;\n            try {\n              this.component._componentInternals.inOnRendered = true;\n              componentOrMixin = null;\n              while (componentOrMixin = this.component.getFirstWith(componentOrMixin, 'onRendered')) {\n                componentOrMixin.onRendered();\n              }\n            } finally {\n              delete this.component._componentInternals.inOnRendered;\n            }\n            if ((_base1 = this.component._componentInternals).isRendered == null) {\n              _base1.isRendered = new ReactiveVar(true);\n            }\n            this.component._componentInternals.isRendered.set(true);\n            return Tracker.nonreactive((function(_this) {\n              return function() {\n                return assert.equal(_this.component._componentInternals.isCreated.get(), true);\n              };\n            })(this));\n          },\n          onDestroyed: function() {\n            return this.autorun((function(_this) {\n              return function(computation) {\n                var componentOrMixin, _base1, _base2;\n                if (_this.component.componentChildren().length) {\n                  return;\n                }\n                computation.stop();\n                Tracker.nonreactive(function() {\n                  return assert.equal(_this.component._componentInternals.isCreated.get(), true);\n                });\n                _this.component._componentInternals.isCreated.set(false);\n                if ((_base1 = _this.component._componentInternals).isRendered == null) {\n                  _base1.isRendered = new ReactiveVar(false);\n                }\n                _this.component._componentInternals.isRendered.set(false);\n                if ((_base2 = _this.component._componentInternals).isDestroyed == null) {\n                  _base2.isDestroyed = new ReactiveVar(true);\n                }\n                _this.component._componentInternals.isDestroyed.set(true);\n                componentOrMixin = null;\n                while (componentOrMixin = _this.component.getFirstWith(componentOrMixin, 'onDestroyed')) {\n                  componentOrMixin.onDestroyed();\n                }\n                if (componentParent) {\n                  component.componentParent(null);\n                  componentParent.removeComponentChild(component);\n                }\n                return delete _this.component._componentInternals.templateInstance;\n              };\n            })(this));\n          }\n        });\n        return template;\n      };\n    })(this));\n  };\n\n  BlazeComponent.prototype.template = function() {\n    return this.callFirstWith(this, 'template') || this.constructor.componentName();\n  };\n\n  BlazeComponent.prototype.onCreated = function() {};\n\n  BlazeComponent.prototype.onRendered = function() {};\n\n  BlazeComponent.prototype.onDestroyed = function() {};\n\n  BlazeComponent.prototype.isCreated = function() {\n    var _base;\n    if (this._componentInternals == null) {\n      this._componentInternals = {};\n    }\n    if ((_base = this._componentInternals).isCreated == null) {\n      _base.isCreated = new ReactiveVar(false);\n    }\n    return this._componentInternals.isCreated.get();\n  };\n\n  BlazeComponent.prototype.isRendered = function() {\n    var _base;\n    if (this._componentInternals == null) {\n      this._componentInternals = {};\n    }\n    if ((_base = this._componentInternals).isRendered == null) {\n      _base.isRendered = new ReactiveVar(false);\n    }\n    return this._componentInternals.isRendered.get();\n  };\n\n  BlazeComponent.prototype.isDestroyed = function() {\n    var _base;\n    if (this._componentInternals == null) {\n      this._componentInternals = {};\n    }\n    if ((_base = this._componentInternals).isDestroyed == null) {\n      _base.isDestroyed = new ReactiveVar(false);\n    }\n    return this._componentInternals.isDestroyed.get();\n  };\n\n  BlazeComponent.prototype.insertDOMElement = function(parent, node, before) {\n    if (before == null) {\n      before = null;\n    }\n    if (parent && node && (node.parentNode !== parent || node.nextSibling !== before)) {\n      parent.insertBefore(node, before);\n    }\n  };\n\n  BlazeComponent.prototype.moveDOMElement = function(parent, node, before) {\n    if (before == null) {\n      before = null;\n    }\n    if (parent && node && (node.parentNode !== parent || node.nextSibling !== before)) {\n      parent.insertBefore(node, before);\n    }\n  };\n\n  BlazeComponent.prototype.removeDOMElement = function(parent, node) {\n    if (parent && node && node.parentNode === parent) {\n      parent.removeChild(node);\n    }\n  };\n\n  BlazeComponent.prototype.events = function() {\n    return [];\n  };\n\n  BlazeComponent.prototype.data = function() {\n    var _ref, _ref1;\n    if ((_ref = this._componentInternals) != null ? (_ref1 = _ref.templateInstance) != null ? _ref1.view : void 0 : void 0) {\n      return Blaze.getData(this._componentInternals.templateInstance.view);\n    }\n    return void 0;\n  };\n\n  BlazeComponent.currentData = function() {\n    return Blaze.getData();\n  };\n\n  BlazeComponent.prototype.currentData = function() {\n    return this.constructor.currentData();\n  };\n\n  BlazeComponent.prototype.component = function() {\n    return this;\n  };\n\n  BlazeComponent.currentComponent = function() {\n    return Tracker.nonreactive((function(_this) {\n      return function() {\n        return templateInstanceToComponent(Template.instance);\n      };\n    })(this));\n  };\n\n  BlazeComponent.prototype.currentComponent = function() {\n    return this.constructor.currentComponent();\n  };\n\n  BlazeComponent.prototype.firstNode = function() {\n    var view;\n    view = this._componentInternals.templateInstance.view;\n    if (view._domrange && !view.isDestroyed) {\n      return view._domrange.firstNode();\n    } else {\n      return null;\n    }\n  };\n\n  BlazeComponent.prototype.lastNode = function() {\n    var view;\n    view = this._componentInternals.templateInstance.view;\n    if (view._domrange && !view.isDestroyed) {\n      return view._domrange.lastNode();\n    } else {\n      return null;\n    }\n  };\n\n  return BlazeComponent;\n\n})(BaseComponent);\n\n_ref = Blaze.TemplateInstance.prototype;\n_fn = function(methodName, method) {\n  return BlazeComponent.prototype[methodName] = function() {\n    var args, _ref1;\n    args = 1 <= arguments.length ? __slice.call(arguments, 0) : [];\n    return (_ref1 = this._componentInternals.templateInstance)[methodName].apply(_ref1, args);\n  };\n};\nfor (methodName in _ref) {\n  method = _ref[methodName];\n  _fn(methodName, method);\n}\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n\n\n\n\n\n\n(function () {\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                 //\n// packages/peerlibrary:blaze-components/debug.coffee.js                                                           //\n//                                                                                                                 //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                   //\n__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;\nvar                     \n  __hasProp = {}.hasOwnProperty,\n  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };\n\nBlazeComponentDebug = (function(_super) {\n  __extends(BlazeComponentDebug, _super);\n\n  function BlazeComponentDebug() {\n    return BlazeComponentDebug.__super__.constructor.apply(this, arguments);\n  }\n\n  BlazeComponentDebug.startComponent = function(component) {\n    BlazeComponentDebug.__super__.constructor.startComponent.apply(this, arguments);\n    return console.log(component.data());\n  };\n\n  BlazeComponentDebug.startMarkedComponent = function(component) {\n    BlazeComponentDebug.__super__.constructor.startMarkedComponent.apply(this, arguments);\n    return console.log(component.data());\n  };\n\n  BlazeComponentDebug.dumpComponentSubtree = function(rootComponentOrElement) {\n    if (rootComponentOrElement.nodeType === Node.ELEMENT_NODE) {\n      rootComponentOrElement = BlazeComponent.getComponentForElement(rootComponentOrElement);\n    }\n    return BlazeComponentDebug.__super__.constructor.dumpComponentSubtree.apply(this, arguments);\n  };\n\n  BlazeComponentDebug.dumpComponentTree = function(rootComponentOrElement) {\n    if (rootComponentOrElement.nodeType === Node.ELEMENT_NODE) {\n      rootComponentOrElement = BlazeComponent.getComponentForElement(rootComponentOrElement);\n    }\n    return BlazeComponentDebug.__super__.constructor.dumpComponentTree.apply(this, arguments);\n  };\n\n  BlazeComponentDebug.dumpAllComponents = function() {\n    var allRootComponents, rootComponent, _i, _len;\n    allRootComponents = [];\n    $('*').each((function(_this) {\n      return function(i, element) {\n        var component, rootComponent;\n        component = BlazeComponent.getComponentForElement(element);\n        if (!component) {\n          return;\n        }\n        rootComponent = _this.componentRoot(component);\n        if (__indexOf.call(allRootComponents, rootComponent) < 0) {\n          return allRootComponents.push(rootComponent);\n        }\n      };\n    })(this));\n    for (_i = 0, _len = allRootComponents.length; _i < _len; _i++) {\n      rootComponent = allRootComponents[_i];\n      this.dumpComponentSubtree(rootComponent);\n    }\n  };\n\n  return BlazeComponentDebug;\n\n})(BaseComponentDebug);\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n\n\n\n\n\n\n(function () {\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                 //\n// packages/peerlibrary:blaze-components/client.coffee.js                                                          //\n//                                                                                                                 //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                   //\n__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;\nvar createUIHooks, originalDOMRangeAttach;\n\ncreateUIHooks = function(component, parentNode) {\n  return {\n    insertElement: (function(_this) {\n      return function(node, before) {\n        if (node._uihooks == null) {\n          node._uihooks = createUIHooks(component, node);\n        }\n        return component.insertDOMElement(parentNode, node, before);\n      };\n    })(this),\n    moveElement: (function(_this) {\n      return function(node, before) {\n        if (node._uihooks == null) {\n          node._uihooks = createUIHooks(component, node);\n        }\n        return component.moveDOMElement(parentNode, node, before);\n      };\n    })(this),\n    removeElement: (function(_this) {\n      return function(node) {\n        if (node._uihooks == null) {\n          node._uihooks = createUIHooks(component, node);\n        }\n        return component.removeDOMElement(node.parentNode, node);\n      };\n    })(this)\n  };\n};\n\noriginalDOMRangeAttach = Blaze._DOMRange.prototype.attach;\n\nBlaze._DOMRange.prototype.attach = function(parentElement, nextNode, _isMove, _isReplace) {\n  var component, oldUIHooks, _ref;\n  if (component = (_ref = this.view._templateInstance) != null ? _ref.component : void 0) {\n    oldUIHooks = parentElement._uihooks;\n    try {\n      parentElement._uihooks = createUIHooks(component, parentElement);\n      return originalDOMRangeAttach.apply(this, arguments);\n    } finally {\n      if (oldUIHooks) {\n        parentElement._uihooks = oldUIHooks;\n      }\n    }\n  }\n  return originalDOMRangeAttach.apply(this, arguments);\n};\n\nshare.argumentsConstructor = function() {\n  return assert(false);\n};\n\nTemplate.registerHelper('args', function() {\n  var obj;\n  obj = {};\n  obj.constructor = share.argumentsConstructor;\n  obj._arguments = arguments;\n  return obj;\n});\n\nTemplate.__dynamicWithDataContext.__helpers.set('chooseTemplate', function(name) {\n  return Blaze._getTemplate(name, (function(_this) {\n    return function() {\n      return Template.instance();\n    };\n  })(this));\n});\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n"]}}]