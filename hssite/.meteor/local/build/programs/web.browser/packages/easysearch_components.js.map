{"version":3,"sources":["meteor://ðŸ’»app/lib/base.js","meteor://ðŸ’»app/lib/single-index.js","meteor://ðŸ’»app/lib/component-methods.js","meteor://ðŸ’»app/lib/core.js","meteor://ðŸ’»app/packages/easysearch_components/lib/input/template.input.js","meteor://ðŸ’»app/lib/input/input.js","meteor://ðŸ’»app/packages/easysearch_components/lib/field-input/template.field-input.js","meteor://ðŸ’»app/lib/field-input/field-input.js","meteor://ðŸ’»app/packages/easysearch_components/lib/each/template.each.js","meteor://ðŸ’»app/lib/each/each.js","meteor://ðŸ’»app/packages/easysearch_components/lib/if-input-empty/template.if-input-empty.js","meteor://ðŸ’»app/lib/if-input-empty/if-input-empty.js","meteor://ðŸ’»app/packages/easysearch_components/lib/if-no-results/template.if-no-results.js","meteor://ðŸ’»app/lib/if-no-results/if-no-results.js","meteor://ðŸ’»app/packages/easysearch_components/lib/if-searching/template.if-searching.js","meteor://ðŸ’»app/lib/if-searching/if-searching.js","meteor://ðŸ’»app/packages/easysearch_components/lib/load-more/template.load-more.js","meteor://ðŸ’»app/lib/load-more/load-more.js","meteor://ðŸ’»app/packages/easysearch_components/lib/pagination/template.pagination.js","meteor://ðŸ’»app/lib/pagination/pagination.js"],"names":[],"mappings":"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","file":"/packages/easysearch_components.js","sourcesContent":["/**\n * The BaseComponent holds the base logic for EasySearch Components.\n *\n * @type {BaseComponent}\n */\nBaseComponent = class BaseComponent extends BlazeComponent {\n  /**\n   * Return the name of the component.\n   *\n   * @returns {String}\n   */\n  get name() {\n    return this.getData().name;\n  }\n\n  /**\n   * Return an array of properties that are reserved to the base component.\n   *\n   * @returns {String[]}\n   */\n  static get reserveredProperties() {\n    return ['index', 'indexes', 'name', 'attributes'];\n  }\n\n  /**\n   * Setup component on created.\n   */\n  onCreated() {\n    let index = this.getData().index,\n      indexes = [index];\n\n    if (!index) {\n      indexes = this.getData().indexes;\n    }\n\n    if (_.isEmpty(indexes)) {\n      throw new Meteor.Error('no-index', 'Please provide an index for your component');\n    }\n\n    if (indexes.filter((index) => index instanceof EasySearch.Index).length != indexes.length) {\n      throw new Meteor.Error(\n        'invalid-configuration',\n        `Did not receive an index or an array of indexes: \"${indexes.toString()}\"`\n      );\n    }\n\n    this.indexes = indexes;\n    this.options = _.defaults({}, _.omit(this.getData(), ...BaseComponent.reserveredProperties), this.defaultOptions);\n\n    check(this.name, Match.Optional(String));\n    check(this.options, Object);\n\n    this.eachIndex(function (index, name) {\n      if (!index.getComponentDict(name)) {\n        index.registerComponent(name);\n      }\n    });\n  }\n\n  /**\n   * Return the default options.\n   *\n   * @returns {Object}\n   */\n  get defaultOptions () {\n    return {};\n  }\n\n  /**\n   * Search the component.\n   *\n   * @param {String} searchString String to search for\n   */\n  search(searchString) {\n    check(searchString, String);\n\n    this.eachIndex(function (index, name) {\n      index.getComponentMethods(name).search(searchString);\n    });\n  }\n\n  /**\n   * Return the data.\n   *\n   * @returns {Object}\n   */\n  getData() {\n    return (this.data() || {});\n  }\n\n  /**\n   * Return the dictionaries.\n   *\n   * @returns {Object}\n   */\n  get dicts() {\n    return this.eachIndex((index, name) => {\n      return index.getComponentDict(name);\n    }, 'map');\n  }\n\n  /**\n   * Loop through each index and apply a function\n   *\n   * @param {Function} func   Function to run\n   * @param {String}   method Lodash method name\n   *\n   * @return mixed\n   */\n  eachIndex(func, method = 'each') {\n    let componentScope = this,\n      logic = this.getData().logic;\n\n    if (!_.isEmpty(logic)) {\n      method = 'OR' === logic ? 'some' : 'every';\n    }\n\n    return _[method](this.indexes, function (index) {\n      return func.apply(this, [index, componentScope.name]);\n    });\n  }\n};\n\nEasySearch.BaseComponent = BaseComponent;\n","/**\n * The SingleIndexComponent holds logic for components that only can use one index.\n *\n * @type {SingleIndexComponent}\n */\nSingleIndexComponent = class SingleIndexComponent extends BaseComponent {\n  /**\n   * Setup component on created.\n   */\n  onCreated() {\n    super.onCreated();\n\n    if (this.indexes.length > 1) {\n      throw new Meteor.Error('only-single-index', 'Can only specify one index');\n    }\n  }\n\n  /**\n   * Return the index\n   *\n   * @returns {Index}\n   */\n  get index() {\n    return _.first(this.indexes);\n  }\n\n  /**\n   * Return the dictionary.\n   *\n   * @returns {Object}\n   */\n  get dict() {\n    return _.first(this.dicts);\n  }\n};\n\nEasySearch.SingleIndexComponent = SingleIndexComponent;\n","EasySearch._getComponentMethods = function (dict, index) {\n  return {\n    /**\n     * Search a component for the given search string.\n     *\n     * @param {Object|String} searchDefinition Search definition\n     */\n    search: (searchDefinition) => {\n      dict.set('searchOptions', {\n        props: (dict.get('searchOptions') || {}).props\n      });\n\n      dict.set('searchDefinition', searchDefinition);\n      dict.set('stopPublication', true);\n    },\n    /**\n     * Return the EasySearch.Cursor for the current search.\n     *\n     * @returns {Cursor}\n     */\n    getCursor: () => {\n      let searchDefinition = dict.get('searchDefinition') || '',\n        options = dict.get('searchOptions');\n\n      check(options, Match.Optional(Object));\n\n      let cursor = index.search(searchDefinition, options),\n        searchOptions = index._getSearchOptions(options);\n\n      dict.set('count', cursor.count());\n      dict.set('searching', !cursor.isReady());\n      dict.set('limit', searchOptions.limit);\n      dict.set('skip', searchOptions.skip);\n      dict.set('currentCount', cursor.mongoCursor.count());\n      dict.set('stopPublication', false);\n\n      return cursor;\n    },\n    /**\n     * Return true if the current search string is empty.\n     *\n     * @returns {boolean}\n     */\n    searchIsEmpty: () => {\n      let searchDefinition = dict.get('searchDefinition');\n\n      return !searchDefinition || (_.isString(searchDefinition) && 0 === searchDefinition.trim().length);\n    },\n    /**\n     * Return true if the component has no results.\n     *\n     * @returns {boolean}\n     */\n    hasNoResults: () => {\n      let count = dict.get('count');\n\n      return !_.isNumber(count) || 0 === count;\n    },\n    /**\n     * Return true if the component is being searched.\n     *\n     * @returns {boolean}\n     */\n    isSearching: () => {\n      return !!dict.get('searching');\n    },\n    /**\n     * Return true if the component has more documents than displayed right now.\n     *\n     * @returns {boolean}\n     */\n    hasMoreDocuments: () => {\n      return dict.get('currentCount') < dict.get('count');\n    },\n    /**\n     * Load more documents for the component.\n     *\n     * @param {Number} count Count of docs\n     */\n    loadMore: (count) => {\n      check(count, Number);\n\n      let currentCount = dict.get('currentCount'),\n        options = dict.get('searchOptions') || {};\n\n      options.limit = currentCount + count;\n      dict.set('searchOptions', options);\n    },\n    /**\n     * Paginate through documents for the given page.\n     *\n     * @param {Number} page Page number\n     */\n    paginate: (page) => {\n      check(page, Number);\n\n      let options = dict.get('searchOptions') || {},\n        limit = dict.get('limit');\n\n      options.skip = limit * (page - 1);\n      dict.set('searchOptions', options);\n      dict.set('stopPublication', true);\n    },\n    /**\n     * Add custom properties for search.\n     */\n    addProps: (...args) => {\n      let options = dict.get('searchOptions') || {};\n\n      options.props = options.props || {};\n\n      if (_.isObject(args[0])) {\n        options.props = _.extend(options.props, args[0]);\n      } else if (_.isString(args[0]) && _.isString(args[1])) {\n        options.props[args[0]] = args[1];\n      }\n\n      dict.set('searchOptions', options);\n    },\n    /**\n     * Remove custom properties for search.\n     */\n    removeProps: (...args) => {\n      let options = dict.get('searchOptions') || {};\n\n      if (!_.isEmpty(args)) {\n        options.props = _.omit(options.props, args) || {};\n      } else {\n        options.props = {};\n      }\n\n      dict.set('searchOptions', options);\n    }\n  };\n};\n","/**\n * Extend EasySearch.Index with component functionality.\n *\n * @type {Index}\n */\nEasySearch.Index = class Index extends EasySearch.Index {\n  /**\n   * Constructor.\n   */\n  constructor() {\n    super(...arguments);\n    this.components = {};\n  }\n\n  /**\n   * Return static default name for components.\n   *\n   * @returns {String}\n   */\n  static get COMPONENT_DEFAULT_NAME() {\n    return'__default';\n  }\n\n  /**\n   * Register a component on the index.\n   *\n   * @param {String} componentName Optional name of the component\n   */\n  registerComponent(componentName = EasySearch.Index.COMPONENT_DEFAULT_NAME) {\n    this.components[componentName] = new ReactiveDict(`easySearchComponent_${this.config.name}_${componentName}_${Random.id()}`);\n  }\n\n  /**\n   * Get the reactive dictionary for a component.\n   *\n   * @param {String} componentName Optional name of the component\n   */\n  getComponentDict(componentName = EasySearch.Index.COMPONENT_DEFAULT_NAME) {\n    return this.components[componentName];\n  }\n\n  /**\n   * Get component methods that are useful for implementing search behaviour.\n   *\n   * @param componentName\n   */\n  getComponentMethods(componentName = EasySearch.Index.COMPONENT_DEFAULT_NAME) {\n    let dict = this.getComponentDict(componentName);\n\n    if (!dict) {\n      throw new Meteor.Error('no-component', `Component with name '${componentName}' not found`);\n    }\n\n    return EasySearch._getComponentMethods(dict, this);\n  }\n};\n\n/**\n * Return true if the current page is valid.\n *\n * @param {Number} totalPagesLength Count of all pages available\n * @param {Number} currentPage      Current page to check\n *\n * @returns {boolean}\n */\nfunction isValidPage(totalPagesLength, currentPage) {\n  return currentPage <= totalPagesLength && currentPage > 0;\n}\n\n/**\n * Helper method to get the pages for pagination as an array.\n *\n * @param totalCount   Total count of results\n * @param pageCount    Count of results per page\n * @param currentPage  Current page\n * @param prevAndNext  True if Next and Previous buttons should appear\n * @param maxPages     Maximum count of pages to show\n *\n * @private\n *\n * @returns {Array}\n */\nEasySearch._getPagesForPagination = function ({totalCount, pageCount, currentPage, prevAndNext, maxPages}) {\n  let pages = _.range(1, Math.ceil(totalCount / pageCount) + 1),\n    pagesLength = pages.length;\n\n  if (!isValidPage(pagesLength, currentPage)) {\n    throw new Meteor.Error('invalid-page', 'Current page is not in valid range');\n  }\n\n  if (maxPages) {\n    let startSlice = (currentPage > (maxPages / 2) ? (currentPage - 1) - Math.floor(maxPages / 2) : 0),\n      endSlice = startSlice + maxPages;\n\n    if (endSlice > pagesLength) {\n      pages = pages.slice(-maxPages);\n    } else {\n      pages = pages.slice(startSlice, startSlice + maxPages);\n    }\n  }\n\n  let pageData = _.map(pages, function (page) {\n    let isCurrentPage = page === currentPage;\n    return { page, content: page.toString(), current: isCurrentPage, disabled: isCurrentPage };\n  });\n\n  if (prevAndNext) {\n    // Previous\n    let prevPage = isValidPage(pagesLength, currentPage - 1) ? currentPage - 1 : null;\n    pageData.unshift({ page: prevPage, content: 'Prev', current: false, disabled: 1 === currentPage });\n    // Next\n    let nextPage = isValidPage(pagesLength, currentPage + 1) ? currentPage + 1 : null;\n    pageData.push(\n      { page: nextPage, content: 'Next', current: false, disabled: null == nextPage || pagesLength + 1 === currentPage }\n    );\n  }\n\n  return pageData;\n};\n","\nTemplate.__checkName(\"EasySearch.Input\");\nTemplate[\"EasySearch.Input\"] = new Template(\"Template.EasySearch.Input\", (function() {\n  var view = this;\n  return HTML.INPUT(HTML.Attrs(function() {\n    return Spacebars.attrMustache(view.lookup(\"inputAttributes\"));\n  }));\n}));\n","/**\n * The InputComponent lets you search through configured indexes.\n *\n * @type {InputComponent}\n */\nEasySearch.InputComponent = class InputComponent extends BaseComponent {\n  /**\n   * Setup input onCreated.\n   */\n  onCreated() {\n    let cursorHandle;\n\n    super.onCreated(...arguments);\n\n    this.search(this.inputAttributes().value);\n\n    // create a reactive dependency to the cursor\n    Tracker.autorun(() => {\n      this.eachIndex((index, name) => {\n        if (cursorHandle) {\n          cursorHandle.stop();\n        }\n\n        cursorHandle = index.getComponentMethods(name).getCursor();\n      });\n    });\n\n    this.debouncedSearch = _.debounce((searchString) => {\n      searchString = searchString.trim();\n\n      if (this.searchString !== searchString) {\n        this.searchString = searchString;\n\n        this.eachIndex((index, name) => {\n          index.getComponentDict(name).set('currentPage', 1);\n        });\n\n        this.search(searchString);\n      }\n\n    }, this.options.timeout);\n  }\n\n  /**\n   * Event map.\n   *\n   * @returns {Object}\n   */\n  events() {\n    return [{\n      'keyup input' : function (e) {\n        if ('enter' == this.getData().event && e.keyCode != 13) {\n          return;\n        }\n\n        this.debouncedSearch($(e.target).val());\n      }\n    }];\n  }\n\n  /**\n   * Return the attributes to set on the input (class, id).\n   *\n   * @returns {Object}\n   */\n  inputAttributes() {\n    return _.defaults({}, this.getData().attributes, InputComponent.defaultAttributes);\n  }\n\n  /**\n   * Return the default attributes.\n   *\n   * @returns {Object}\n   */\n  static get defaultAttributes() {\n    return {\n      type: 'text',\n      value: ''\n    };\n  }\n\n  /**\n   * Return the default options.\n   *\n   * @returns {Object}\n   */\n  get defaultOptions() {\n    return {\n      timeout: 50\n    };\n  }\n};\n\nEasySearch.InputComponent.register('EasySearch.Input');\n","\nTemplate.__checkName(\"EasySearch.FieldInput\");\nTemplate[\"EasySearch.FieldInput\"] = new Template(\"Template.EasySearch.FieldInput\", (function() {\n  var view = this;\n  return HTML.INPUT(HTML.Attrs(function() {\n    return Spacebars.attrMustache(view.lookup(\"inputAttributes\"));\n  }));\n}));\n","/**\n * The FieldInputComponent lets you search through configured indexes for a specified fild.\n *\n * @type {FieldInputComponent}\n */\nEasySearch.FieldInputComponent = class FieldInputComponent extends EasySearch.InputComponent {\n  /**\n   * Setup component on created.\n   */\n  onCreated() {\n    super.onCreated();\n\n    if (_.isEmpty(this.getData().field)) {\n      throw new Meteor.Error('no-field', 'Please provide a field for your field input component');\n    }\n  }\n\n  /**\n   * Search the component.\n   *\n   * @param {String} searchString String to search for\n   */\n  search(searchString) {\n    check(searchString, String);\n\n    this.eachIndex((index, name) => {\n      let searchDefinition = index.getComponentDict(name).get('searchDefinition') || {};\n\n      if (_.isString(searchDefinition)) {\n        throw new Meteor.Error('You can either EasySearch.FieldInput or EasySearch.Input');\n      }\n\n      if (this.options.field) {\n        searchDefinition[this.options.field] = searchString;\n        index.getComponentMethods(name).search(searchDefinition);\n      }\n    });\n  }\n};\n\nEasySearch.FieldInputComponent.register('EasySearch.FieldInput');\n","\nTemplate.__checkName(\"EasySearch.Each\");\nTemplate[\"EasySearch.Each\"] = new Template(\"Template.EasySearch.Each\", (function() {\n  var view = this;\n  return Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"doc\"));\n  }, function() {\n    return [ \"\\n      \", Blaze._InOuterTemplateScope(view, function() {\n      return Blaze._TemplateWith(function() {\n        return Spacebars.call(view.lookup(\".\"));\n      }, function() {\n        return Spacebars.include(function() {\n          return Spacebars.call(view.templateContentBlock);\n        });\n      });\n    }), \"\\n    \" ];\n  });\n}));\n","/**\n * The EachComponent allows to loop through the search results found with the InputComponent.\n *\n * @type {EachComponent}\n */\nEasySearch.EachComponent = class EachComponent extends SingleIndexComponent {\n  /**\n   * Return the mongo cursor for the search.\n   *\n   * @returns {Mongo.Cursor}\n   */\n  doc() {\n    let stopPublication = this.index\n      .getComponentDict(this.name)\n      .get('stopPublication')\n    ;\n\n    this.cursor && stopPublication && this.cursor.stop();\n\n    this.cursor = this.index\n        .getComponentMethods(this.name)\n        .getCursor()\n    ;\n\n    return this.cursor.mongoCursor;\n  }\n};\n\nEasySearch.EachComponent.register('EasySearch.Each');\n","\nTemplate.__checkName(\"EasySearch.IfInputEmpty\");\nTemplate[\"EasySearch.IfInputEmpty\"] = new Template(\"Template.EasySearch.IfInputEmpty\", (function() {\n  var view = this;\n  return Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"inputEmpty\"));\n  }, function() {\n    return [ \"\\n        \", Blaze._InOuterTemplateScope(view, function() {\n      return Spacebars.include(function() {\n        return Spacebars.call(view.templateContentBlock);\n      });\n    }), \"\\n    \" ];\n  }, function() {\n    return [ \"\\n        \", Blaze.If(function() {\n      return Spacebars.call(view.templateElseBlock);\n    }, function() {\n      return [ \"\\n            \", Blaze._InOuterTemplateScope(view, function() {\n        return Spacebars.include(function() {\n          return Spacebars.call(view.templateElseBlock);\n        });\n      }), \"\\n        \" ];\n    }), \"\\n    \" ];\n  });\n}));\n","/**\n * The IfInputEmptyComponent lets you display content when the input is empty.\n *\n * @type {IfInputEmptyComponent}\n */\nEasySearch.IfInputEmptyComponent = class IfInputEmptyComponent extends BaseComponent {\n  /**\n   * Return true if the input is empty.\n   *\n   * @returns {boolean}\n   */\n  inputEmpty() {\n    return !!this.eachIndex(function (index, name) {\n      return index.getComponentMethods(name).searchIsEmpty();\n    }, 'every');\n  }\n};\n\nEasySearch.IfInputEmptyComponent.register('EasySearch.IfInputEmpty');\n","\nTemplate.__checkName(\"EasySearch.IfNoResults\");\nTemplate[\"EasySearch.IfNoResults\"] = new Template(\"Template.EasySearch.IfNoResults\", (function() {\n  var view = this;\n  return Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"noResults\"));\n  }, function() {\n    return [ \"\\n        \", Blaze._InOuterTemplateScope(view, function() {\n      return Spacebars.include(function() {\n        return Spacebars.call(view.templateContentBlock);\n      });\n    }), \"\\n    \" ];\n  }, function() {\n    return [ \"\\n        \", Blaze.If(function() {\n      return Spacebars.call(view.templateElseBlock);\n    }, function() {\n      return [ \"\\n            \", Blaze._InOuterTemplateScope(view, function() {\n        return Spacebars.include(function() {\n          return Spacebars.call(view.templateElseBlock);\n        });\n      }), \"\\n        \" ];\n    }), \"\\n    \" ];\n  });\n}));\n","/**\n * The IfNoResultsComponent lets you display content when there are no results.\n *\n * @type {IfNoResultsComponent}\n */\nEasySearch.IfNoResultsComponent = class IfNoResultsComponent extends BaseComponent {\n  /**\n   * Return true if there are no results.\n   *\n   * @returns {boolean}\n   */\n  noResults() {\n    return !!this.eachIndex(function (index, name) {\n      return index.getComponentMethods(name).hasNoResults();\n    }, 'every');\n  }\n};\n\nEasySearch.IfNoResultsComponent.register('EasySearch.IfNoResults');\n","\nTemplate.__checkName(\"EasySearch.IfSearching\");\nTemplate[\"EasySearch.IfSearching\"] = new Template(\"Template.EasySearch.IfSearching\", (function() {\n  var view = this;\n  return Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"searching\"));\n  }, function() {\n    return [ \"\\n        \", Blaze._InOuterTemplateScope(view, function() {\n      return Spacebars.include(function() {\n        return Spacebars.call(view.templateContentBlock);\n      });\n    }), \"\\n    \" ];\n  }, function() {\n    return [ \"\\n        \", Blaze.If(function() {\n      return Spacebars.call(view.templateElseBlock);\n    }, function() {\n      return [ \"\\n            \", Blaze._InOuterTemplateScope(view, function() {\n        return Spacebars.include(function() {\n          return Spacebars.call(view.templateElseBlock);\n        });\n      }), \"\\n        \" ];\n    }), \"\\n    \" ];\n  });\n}));\n","/**\n * The IfSearchingComponent lets you display content when the component is being searched.\n *\n * @type {IfSearchingComponent}\n */\nEasySearch.IfSearchingComponent = class IfSearchingComponent extends BaseComponent {\n  /**\n   * Return true if the component is being searched.\n   *\n   * @returns {boolean}\n   */\n  searching() {\n    return !!this.eachIndex(function (index, name) {\n      return index.getComponentMethods(name).isSearching();\n    }, 'every');\n  }\n};\n\nEasySearch.IfSearchingComponent.register('EasySearch.IfSearching');\n","\nTemplate.__checkName(\"EasySearch.LoadMore\");\nTemplate[\"EasySearch.LoadMore\"] = new Template(\"Template.EasySearch.LoadMore\", (function() {\n  var view = this;\n  return Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"moreDocuments\"));\n  }, function() {\n    return [ \"\\n        \", HTML.BUTTON(HTML.Attrs(function() {\n      return Spacebars.attrMustache(view.lookup(\"attributes\"));\n    }), Blaze.View(\"lookup:content\", function() {\n      return Spacebars.mustache(view.lookup(\"content\"));\n    })), \"\\n    \" ];\n  });\n}));\n","/**\n * The LoadMoreComponent lets you load more documents through a button.\n *\n * @type {LoadMoreComponent}\n */\nEasySearch.LoadMoreComponent = class LoadMoreComponent extends SingleIndexComponent {\n  /**\n   * Load more documents.\n   */\n  loadMore() {\n    this.index\n      .getComponentMethods(this.name)\n      .loadMore(this.options.count)\n    ;\n  }\n\n  /**\n   * Content of the component.\n   *\n   * @returns string\n   */\n  content() {\n    return this.options.content;\n  }\n\n  /**\n   * Attributes of the component.\n   *\n   * @returns string\n   */\n  attributes() {\n    return this.getData().attributes || {};\n  }\n\n  /**\n   * Return true if there are more documents to load.\n   *\n   * @returns {Boolean}\n   */\n  moreDocuments() {\n    return this.index.getComponentMethods(this.name).hasMoreDocuments();\n  }\n\n  /**\n   * Event map.\n   *\n   * @returns {Object}\n   */\n  events() {\n    return [{\n      'click button' : function () {\n        this.loadMore();\n      }\n    }];\n  }\n\n  /**\n   * Return the default options.\n   *\n   * @returns {Object}\n   */\n  get defaultOptions() {\n    return {\n      content: 'Load more',\n      count: 10\n    };\n  }\n};\n\nEasySearch.LoadMoreComponent.register('EasySearch.LoadMore');\n","\nTemplate.__checkName(\"EasySearch.Pagination\");\nTemplate[\"EasySearch.Pagination\"] = new Template(\"Template.EasySearch.Pagination\", (function() {\n  var view = this;\n  return Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"moreDocuments\"));\n  }, function() {\n    return [ \"\\n        \", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"customRenderPagination\"));\n    }, function() {\n      return [ \"\\n            \", Blaze._TemplateWith(function() {\n        return {\n          template: Spacebars.call(view.lookup(\"customRenderPagination\"))\n        };\n      }, function() {\n        return Spacebars.include(function() {\n          return Spacebars.call(Template.__dynamic);\n        });\n      }), \"\\n        \" ];\n    }, function() {\n      return [ \"\\n            \", HTML.UL({\n        \"class\": \"pagination\"\n      }, \"\\n                \", Blaze.Each(function() {\n        return Spacebars.call(view.lookup(\"page\"));\n      }, function() {\n        return [ \"\\n                    \", HTML.LI({\n          \"class\": function() {\n            return [ \"page \", Spacebars.mustache(view.lookup(\"pageClasses\"), view.lookup(\".\")) ];\n          }\n        }, \"\\n                        \", Blaze.View(\"lookup:content\", function() {\n          return Spacebars.mustache(view.lookup(\"content\"));\n        }), \"\\n                    \"), \"\\n                \" ];\n      }), \"\\n            \"), \"\\n        \" ];\n    }), \"\\n    \" ];\n  });\n}));\n","/**\n * The PaginationComponent lets you paginate through documents.\n *\n * @type {PaginationComponent}\n */\nEasySearch.PaginationComponent = class PaginationComponent extends SingleIndexComponent {\n  /**\n   * Setup component on created.\n   */\n  onCreated() {\n    super.onCreated();\n    this.dict.set('currentPage', 1);\n  }\n\n  /**\n   * Get pages for displaying the pagination.\n   *\n   * @returns {Array}\n   */\n  page() {\n    let totalCount = this.dict.get('count'),\n      pageCount = this.dict.get('limit'),\n      currentPage = this.dict.get('currentPage'),\n      maxPages = this.options.maxPages,\n      prevAndNext = this.options.prevAndNext;\n\n    if (!pageCount || !totalCount) {\n      return [];\n    }\n\n    return this.options.transformPages(\n      EasySearch._getPagesForPagination({ totalCount, pageCount, currentPage, maxPages, prevAndNext })\n    );\n  }\n\n  customRenderPagination() {\n    return this.getData().renderPagination;\n  }\n\n  /**\n   * Paginate documents.\n   */\n  paginate(page) {\n    check(page, Number);\n\n    this.index.getComponentMethods(this.name).paginate(page);\n  }\n\n  /**\n   * Return page classes.\n   *\n   * @param {Object} data Data for the current page\n   *\n   * @returns {String}\n   */\n  pageClasses(data) {\n    return `${(data.disabled ? 'disabled' : '' )} ${(data.current ? 'current' : '' )}`.trim();\n  }\n\n  /**\n   * Return true if there are more documents to load.\n   *\n   * @returns {Boolean}\n   */\n  moreDocuments() {\n    return this.index.getComponentMethods(this.name).hasMoreDocuments();\n  }\n\n  /**\n   * Event map.\n   *\n   * @returns {Object}\n   */\n  events() {\n    return [{\n      'click .page:not(.disabled)' : function (e) {\n        let currentPage = this.currentData().page;\n        this.dict.set('currentPage', currentPage);\n        this.paginate(currentPage);\n\n        e.preventDefault();\n      }\n    }];\n  }\n\n  /**\n   * Return the default options.\n   *\n   * @returns {Object}\n   */\n  get defaultOptions() {\n    return {\n      prevAndNext: true,\n      maxPages: null,\n      transformPages: (pages) => pages\n    };\n  }\n};\n\nEasySearch.PaginationComponent.register('EasySearch.Pagination');\n"]}