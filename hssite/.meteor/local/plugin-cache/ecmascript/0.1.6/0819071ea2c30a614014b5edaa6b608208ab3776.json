{"metadata":{"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}},"usedHelpers":["inherits","create-class","class-call-check","slice"]},"ignored":false,"code":"/**\n * The InputComponent lets you search through configured indexes.\n *\n * @type {InputComponent}\n */\nEasySearch.InputComponent = (function (_BaseComponent) {\n  babelHelpers.inherits(InputComponent, _BaseComponent);\n\n  function InputComponent() {\n    babelHelpers.classCallCheck(this, InputComponent);\n\n    _BaseComponent.apply(this, arguments);\n  }\n\n  /**\n   * Setup input onCreated.\n   */\n\n  InputComponent.prototype.onCreated = (function () {\n    function onCreated() {\n      var _BaseComponent$prototype$onCreated,\n          _this = this;\n\n      var cursorHandle = undefined;\n\n      (_BaseComponent$prototype$onCreated = _BaseComponent.prototype.onCreated).call.apply(_BaseComponent$prototype$onCreated, [this].concat(babelHelpers.slice.call(arguments)));\n\n      this.search(this.inputAttributes().value);\n\n      // create a reactive dependency to the cursor\n      Tracker.autorun(function () {\n        _this.eachIndex(function (index, name) {\n          if (cursorHandle) {\n            cursorHandle.stop();\n          }\n\n          cursorHandle = index.getComponentMethods(name).getCursor();\n        });\n      });\n\n      this.debouncedSearch = _.debounce(function (searchString) {\n        searchString = searchString.trim();\n\n        if (_this.searchString !== searchString) {\n          _this.searchString = searchString;\n\n          _this.eachIndex(function (index, name) {\n            index.getComponentDict(name).set('currentPage', 1);\n          });\n\n          _this.search(searchString);\n        }\n      }, this.options.timeout);\n    }\n\n    return onCreated;\n  })();\n\n  /**\n   * Event map.\n   *\n   * @returns {Object}\n   */\n\n  InputComponent.prototype.events = (function () {\n    function events() {\n      return [{\n        'keyup input': function (e) {\n          if ('enter' == this.getData().event && e.keyCode != 13) {\n            return;\n          }\n\n          this.debouncedSearch($(e.target).val());\n        }\n      }];\n    }\n\n    return events;\n  })();\n\n  /**\n   * Return the attributes to set on the input (class, id).\n   *\n   * @returns {Object}\n   */\n\n  InputComponent.prototype.inputAttributes = (function () {\n    function inputAttributes() {\n      return _.defaults({}, this.getData().attributes, InputComponent.defaultAttributes);\n    }\n\n    return inputAttributes;\n  })();\n\n  /**\n   * Return the default attributes.\n   *\n   * @returns {Object}\n   */\n  babelHelpers.createClass(InputComponent, [{\n    key: 'defaultOptions',\n\n    /**\n     * Return the default options.\n     *\n     * @returns {Object}\n     */\n    get: function () {\n      return {\n        timeout: 50\n      };\n    }\n  }], [{\n    key: 'defaultAttributes',\n    get: function () {\n      return {\n        type: 'text',\n        value: ''\n      };\n    }\n  }]);\n  return InputComponent;\n})(BaseComponent);\n\nEasySearch.InputComponent.register('EasySearch.Input');","ast":null,"map":{"version":3,"sources":["/lib/input/input.js"],"names":[],"mappings":";;;;;AAKA,UAAU,CAAC,cAAc;wBAAS,cAAc;;WAAd,cAAc;sCAAd,cAAc;;;;;;;;;AAAd,gBAAc,WAI9C,SAAS;AAAA,yBAAG;;;;AACV,UAAI,YAAY,YAAA,CAAC;;AAEjB,qEAAM,SAAS,YAAA,2EAAI,SAAS,GAAC,CAAC;;AAE9B,UAAI,CAAC,MAAM,CAAC,IAAI,CAAC,eAAe,EAAE,CAAC,KAAK,CAAC,CAAC;;;AAG1C,aAAO,CAAC,OAAO,CAAC,YAAM;AACpB,cAAK,SAAS,CAAC,UAAC,KAAK,EAAE,IAAI,EAAK;AAC9B,cAAI,YAAY,EAAE;AAChB,wBAAY,CAAC,IAAI,EAAE,CAAC;WACrB;;AAED,sBAAY,GAAG,KAAK,CAAC,mBAAmB,CAAC,IAAI,CAAC,CAAC,SAAS,EAAE,CAAC;SAC5D,CAAC,CAAC;OACJ,CAAC,CAAC;;AAEH,UAAI,CAAC,eAAe,GAAG,CAAC,CAAC,QAAQ,CAAC,UAAC,YAAY,EAAK;AAClD,oBAAY,GAAG,YAAY,CAAC,IAAI,EAAE,CAAC;;AAEnC,YAAI,MAAK,YAAY,KAAK,YAAY,EAAE;AACtC,gBAAK,YAAY,GAAG,YAAY,CAAC;;AAEjC,gBAAK,SAAS,CAAC,UAAC,KAAK,EAAE,IAAI,EAAK;AAC9B,iBAAK,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,aAAa,EAAE,CAAC,CAAC,CAAC;WACpD,CAAC,CAAC;;AAEH,gBAAK,MAAM,CAAC,YAAY,CAAC,CAAC;SAC3B;OAEF,EAAE,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;KAC1B;;;;;;;;;;;AApC+B,gBAAc,WA2C9C,MAAM;AAAA,sBAAG;AACP,aAAO,CAAC;AACN,qBAAa,EAAG,UAAU,CAAC,EAAE;AAC3B,cAAI,OAAO,IAAI,IAAI,CAAC,OAAO,EAAE,CAAC,KAAK,IAAI,CAAC,CAAC,OAAO,IAAI,EAAE,EAAE;AACtD,mBAAO;WACR;;AAED,cAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC;SACzC;OACF,CAAC,CAAC;KACJ;;;;;;;;;;;AArD+B,gBAAc,WA4D9C,eAAe;AAAA,+BAAG;AAChB,aAAO,CAAC,CAAC,QAAQ,CAAC,EAAE,EAAE,IAAI,CAAC,OAAO,EAAE,CAAC,UAAU,EAAE,cAAc,CAAC,iBAAiB,CAAC,CAAC;KACpF;;;;;;;;;;2BA9D+B,cAAc;;;;;;;;SAiF5B,YAAG;AACnB,aAAO;AACL,eAAO,EAAE,EAAE;OACZ,CAAC;KACH;;;SAhB2B,YAAG;AAC7B,aAAO;AACL,YAAI,EAAE,MAAM;AACZ,aAAK,EAAE,EAAE;OACV,CAAC;KACH;;SA1E+B,cAAc;GAAS,aAAa,CAsFrE,CAAC;;AAEF,UAAU,CAAC,cAAc,CAAC,QAAQ,CAAC,kBAAkB,CAAC,CAAC","file":"/lib/input/input.js.map","sourcesContent":["/**\n * The InputComponent lets you search through configured indexes.\n *\n * @type {InputComponent}\n */\nEasySearch.InputComponent = class InputComponent extends BaseComponent {\n  /**\n   * Setup input onCreated.\n   */\n  onCreated() {\n    let cursorHandle;\n\n    super.onCreated(...arguments);\n\n    this.search(this.inputAttributes().value);\n\n    // create a reactive dependency to the cursor\n    Tracker.autorun(() => {\n      this.eachIndex((index, name) => {\n        if (cursorHandle) {\n          cursorHandle.stop();\n        }\n\n        cursorHandle = index.getComponentMethods(name).getCursor();\n      });\n    });\n\n    this.debouncedSearch = _.debounce((searchString) => {\n      searchString = searchString.trim();\n\n      if (this.searchString !== searchString) {\n        this.searchString = searchString;\n\n        this.eachIndex((index, name) => {\n          index.getComponentDict(name).set('currentPage', 1);\n        });\n\n        this.search(searchString);\n      }\n\n    }, this.options.timeout);\n  }\n\n  /**\n   * Event map.\n   *\n   * @returns {Object}\n   */\n  events() {\n    return [{\n      'keyup input' : function (e) {\n        if ('enter' == this.getData().event && e.keyCode != 13) {\n          return;\n        }\n\n        this.debouncedSearch($(e.target).val());\n      }\n    }];\n  }\n\n  /**\n   * Return the attributes to set on the input (class, id).\n   *\n   * @returns {Object}\n   */\n  inputAttributes() {\n    return _.defaults({}, this.getData().attributes, InputComponent.defaultAttributes);\n  }\n\n  /**\n   * Return the default attributes.\n   *\n   * @returns {Object}\n   */\n  static get defaultAttributes() {\n    return {\n      type: 'text',\n      value: ''\n    };\n  }\n\n  /**\n   * Return the default options.\n   *\n   * @returns {Object}\n   */\n  get defaultOptions() {\n    return {\n      timeout: 50\n    };\n  }\n};\n\nEasySearch.InputComponent.register('EasySearch.Input');\n"]},"hash":"0819071ea2c30a614014b5edaa6b608208ab3776"}
